%PDF-1.3
%âãÏÓ
2 0 obj
<<
/Length 3829
>>
stream
BT
/TT2 1 Tf
12 0 0 12 157.734 669 Tm
0 g
/GS1 gs
0 Tc
0 Tw
[(Intr)18(oducción a Sistemas Operati)10(v)10(os: P)10(adr)18(es e hijos)]TJ
/TT4 1 Tf
10 0 0 10 269.53 633 Tm
(Clips xxx)Tj
-2.845 -1.2 TD
[(F)55(r)55( )210(ancisco J Ballester)45(os)]TJ
/TT2 1 Tf
-16.908 -4.8 TD
0.25 Tw
(1. Ejecutables)Tj
/TT6 1 Tf
0 -1.56 TD
0.0487 Tw
[(P)15(ara UNIX, un ejecutable es simplemente un )]TJ
/TT7 1 Tf
18.5979 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.0487 Tw
(chero que tiene permiso de ejecución. UNIX es optimista e)Tj
-19.154 -1.2 TD
0 Tw
(intentará ejecutar lo que se le pida, si es posible.)Tj
0 -2.4 TD
0.036 Tw
(Durante la llamada al sistema)Tj
/TT9 1 Tf
12.2586 0 TD
0 Tw
(exec)Tj
/TT6 1 Tf
2.4004 0 TD
0.0361 Tw
[(,)-286(UNIX inspecciona el comienzo del )]TJ
/TT7 1 Tf
15.0168 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
-0.0002 Tc
0.0363 Tw
[(chero que ha de car)17.8(gar)-286.3(para eje-)]TJ
-30.2319 -1.2 TD
0 Tc
0 Tw
[(cución le)15(yendo los primeros bytes. Dependiendo del contenido de dichos bytes pasará una cosa u otra.)]TJ
/TT2 1 Tf
0 -3.6 TD
0.25 Tw
(1.1. Binarios)Tj
/TT6 1 Tf
0 -1.56 TD
0 Tw
[(Consideremos de nue)25(v)20(o)20( )-20(un)-250(ejecutable obtenido tras compilar y enlazar un ")]TJ
/TT4 1 Tf
30.1591 0 TD
(hola mundo)Tj
/TT6 1 Tf
4.75 0 TD
0.25 Tc
[("e)250(nC)250(.)]TJ
/TT9 1 Tf
8 0 0 8 133 439.8 Tm
0 Tc
(#include <stdio.h>)Tj
0 -1.5 TD
(#include <stdlib.h>)Tj
0 -3 TD
(int)Tj
0 -1.5 TD
(main\(int argc, char *argv[]\))Tj
T*
({)Tj
2.4 -1.5 TD
(puts\("hola mundo"\);)Tj
T*
(exit\(0\);)Tj
-2.4 -1.5 TD
(})Tj
0 -3 TD
(unix$ cc -g hi.c)Tj
0 -1.5 TD
(unix$ ls -l a.out)Tj
T*
(-rwxrwxr-x 1 elf elf 9654 Aug 26 08:38 a.out)Tj
/TT6 1 Tf
10 0 0 10 72 265.8 Tm
0.004 Tw
(El formato del )Tj
/TT7 1 Tf
6.0379 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
(chero)Tj
/TT9 1 Tf
2.4747 0 TD
(a.out)Tj
/TT6 1 Tf
3.2545 0 TD
0.004 Tw
(dependerá mucho del tipo de UNIX que utilizamos. En general, es muy posi-)Tj
-12.3232 -1.2 TD
0.1028 Tw
(ble que sea un )Tj
/TT7 1 Tf
6.3536 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.1028 Tw
(chero en formato)Tj
/TT4 1 Tf
7.3886 0 TD
0 Tw
(ELF)Tj
/TT6 1 Tf
2.1307 0 TD
(\()Tj
/TT4 1 Tf
0.333 0 TD
0.1029 Tw
[(Executable and Linkable F)105(ormat)]TJ
/TT6 1 Tf
13.3951 0 TD
(\). No obstante, la estructura del)Tj
/TT7 1 Tf
-30.1572 -1.2 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
(chero será prácticamente la misma en todos los casos:)Tj
1.9438 -1.56 TD
[(•)-2150(Una tabla al principio que indica el formato del )]TJ
/TT7 1 Tf
21.6876 0 TD
(Þ)Tj
/TT6 1 Tf
0.5561 0 TD
(chero)Tj
-22.2437 -1.56 TD
[(•)-2150(Una o más)]TJ
/TT4 1 Tf
7.027 0 TD
(secciones)Tj
/TT6 1 Tf
4.0815 0 TD
(con los bytes de código, datos inicializados, etc.)Tj
-13.6085 -2.4 TD
0.0043 Tw
(El comando)Tj
/TT10 1 Tf
5.0628 0 TD
0 Tw
(Þ)Tj
/TT4 1 Tf
0.5 0 TD
(le\(1\))Tj
/TT6 1 Tf
2.142 0 TD
0.0042 Tw
(en UNIX intenta determinar el tipo de )Tj
/TT7 1 Tf
15.4962 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.0042 Tw
(chero que tenemos entre manos. Simplemente lo)Tj
-23.7571 -1.2 TD
-0.0001 Tc
0.0955 Tw
(lee y hace una apuesta, no hay garantías respecto a la mayoría de )Tj
/TT7 1 Tf
27.4458 0 TD
0 Tc
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.0955 Tw
(cheros. Recuerda que para UNIX los)Tj
/TT7 1 Tf
-28.0019 -1.2 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
(cheros son arrays de bytes y poco más.)Tj
/TT9 1 Tf
8 0 0 8 133 144.6 Tm
(unix$ file hi.c)Tj
0 -1.5 TD
(hi.c: C source, ASCII text)Tj
T*
(unix$ file a.out)Tj
T*
[(a.out: ELF 64-bit LSB)-1200(executable, x86-64, version 1 \(SYSV\))]TJ
T*
(dynamically linked \(uses shared libs\), for GNU/Linux 2.6.24)Tj
T*
(unix$)Tj
/TT6 1 Tf
10 0 0 10 72 66.5999 Tm
(Como)Tj
/TT9 1 Tf
2.7274 0 TD
(hi.c)Tj
/TT6 1 Tf
2.683 0 TD
0.0326 Tw
[(contiene te)15(xto típico de fuente en C,)]TJ
/TT9 1 Tf
14.9305 0 TD
0 Tw
(file)Tj
/TT6 1 Tf
2.683 0 TD
0.0326 Tw
(cree que contiene tal cosa \(y en este caso acierta\).)Tj
ET
endstream
endobj
3 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/TT2 4 0 R
/TT4 5 0 R
/TT6 6 0 R
/TT7 7 0 R
/TT9 8 0 R
/TT10 9 0 R
>>
/ExtGState <<
/GS1 10 0 R
>>
>>
endobj
13 0 obj
<<
/Length 4425
>>
stream
BT
/TT6 1 Tf
10 0 0 10 282.17 744 Tm
0 g
/GS1 gs
0 Tc
0 Tw
(-2-)Tj
-21.017 -3.6 TD
0.0956 Tw
(Pero, ¿Cómo sabe que)Tj
/TT9 1 Tf
9.5748 0 TD
0 Tw
(a.out)Tj
/TT6 1 Tf
3.3461 0 TD
0.0956 Tw
[(es un ELF?)-595.6(Simplemente mira al comienzo del )]TJ
/TT7 1 Tf
20.0094 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.0956 Tw
[(chero y v)15(e)-345.6(si)-345.7(hay cierta)]TJ
-33.4865 -1.2 TD
0.0464 Tw
[(constante con cierto v)25(alor)55(.)-296.5(S)0(i)-296.4(l)0(a)-296.4(hay)65(,)-296.4(s)0(e)-296.4(supone que es un ELF puesto que el enlazador que genera )]TJ
/TT7 1 Tf
40.0295 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
(cheros)Tj
-40.5856 -1.2 TD
0.0209 Tw
[(ELF deja en esa posición ese v)25(alor)55(.)-270.9(A)-270.9(estos v)25(alores se los llama)]TJ
/TT4 1 Tf
25.882 0 TD
[(númer)45(os mágicos)]TJ
/TT6 1 Tf
7.2741 0 TD
0 Tw
(\(o)Tj
/TT4 1 Tf
1.1039 0 TD
0.0209 Tw
[(ma)10(gic number)10(s)]TJ
/TT6 1 Tf
6.1391 0 TD
(\). Sim-)Tj
-40.3992 -1.2 TD
0.0555 Tw
[(plemente sirv)15(en como una comprobación de tipos para un hombre pobre. En nuestro caso hemos utilizado)]TJ
T*
0 Tw
[(Linux esta v)15(ez, como puedes v)15(e)0(r)40(,)-250(y)-250(e)0(l)-250(formato de los ejecutables es ELF)80(,)-250(descrito en)]TJ
/TT4 1 Tf
33.8666 0 TD
(elf\(5\))Tj
/TT6 1 Tf
2.1655 0 TD
(.)Tj
-36.0321 -2.4 TD
0.0389 Tw
(Podemos utilizar)Tj
/TT4 1 Tf
7.0768 0 TD
0 Tw
[(r)37(eadelf\(1\))]TJ
/TT6 1 Tf
4.2504 0 TD
0.0389 Tw
(para inspeccionar nuestro ejecutable. Con la opción ")Tj
/TT9 1 Tf
21.5614 0 TD
0 Tw
(-h)Tj
/TT6 1 Tf
1.2002 0 TD
0.039 Tw
[(")-289(podemos pedirle que)]TJ
-34.0888 -1.2 TD
0.0695 Tw
(vuelque los primeros bytes del )Tj
/TT7 1 Tf
12.8172 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.0695 Tw
(chero suponiendo que es una cabecera de un )Tj
/TT7 1 Tf
18.5482 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.0695 Tw
(chero en formato ELF \(un)Tj
-32.4777 -1.2 TD
0 Tw
(record al comienzo del )Tj
/TT7 1 Tf
9.3843 0 TD
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
(chero, nada más\).)Tj
/TT9 1 Tf
8 0 0 8 133 594 Tm
(unix$ readelf -h a.out)Tj
0 -1.5 TD
(ELF Header:)Tj
1.2 -1.5 TD
[(Magic: )-1200(7f)-600(45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00)]TJ
T*
16.8 Tw
(Class: ELF64)Tj
T*
0 Tw
[(Data: )-17400(2’s)-600(complement, little endian)]TJ
T*
15.6 Tw
[(Version: 1)-600(\(current\))]TJ
T*
16.2 Tw
[(OS/ABI: UNIX)-600(-)-600(System )16200(V)]TJ
T*
0 Tw
[(ABI Version:)-13800(0)]TJ
T*
17.4 Tw
[(Type: EXEC)-600(\(Executable )17400(file\))]TJ
T*
0 Tw
[(Machine: )-15600(Advanced)-600(Micro Devices X86-64)]TJ
T*
15.6 Tw
(Version: 0x1)Tj
T*
0 Tw
[(Entry point address:)-9000(0x400630)]TJ
T*
[(Start of program headers:)-6000(64 \(bytes into file\))]TJ
T*
[(Start of section headers:)-6000(4520 \(bytes into file\))]TJ
T*
16.8 Tw
(Flags: 0x0)Tj
T*
0 Tw
[(Size of this header:)-9000(64 \(bytes\))]TJ
T*
[(Size of program headers:)-6600(56 \(bytes\))]TJ
T*
[(Number of program headers:)-5400(9)]TJ
T*
[(Size of section headers:)-6600(64 \(bytes\))]TJ
T*
[(Number of section headers:)-5400(30)]TJ
T*
(Section header string table index: 27)Tj
-1.2 -1.5 TD
(unix$)Tj
/TT6 1 Tf
10 0 0 10 72 312 Tm
0.0897 Tw
(Si miramos los bytes al principio del )Tj
/TT7 1 Tf
15.5429 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.0897 Tw
(chero utilizando)Tj
/TT9 1 Tf
6.8991 0 TD
0 Tw
(xd)Tj
/TT6 1 Tf
1.5399 0 TD
0.0897 Tw
(\(el resto de la línea hace que sólo mostremos)Tj
-24.5381 -1.2 TD
0 Tw
(dos líneas de la salida de)Tj
/TT9 1 Tf
10.1636 0 TD
(xd)Tj
/TT6 1 Tf
1.2002 0 TD
[(\), esto es lo que v)15(emos:)]TJ
/TT9 1 Tf
8 0 0 8 133 282 Tm
(unix$ xd -b -c a.out | sed 2q)Tj
0 -1.5 TD
[(0000000 )-600(7f)-600(45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00)]TJ
3.6 -1.5 TD
1.2 Tc
-1.2 Tw
[(07)1200(fELF)600(0)1200(2)1200( 0)1200(1)1200( 0)1200(1)1200( 0)1200(0)1200( 0)1200(0)1200( 0)1200(0)1200( 0)1200(0)1200( 0)1200(0)1200( 0)1200(0)1200( 0)1200(0)1200( 0)1200(0)1200( 0)1200(0)]TJ
/TT6 1 Tf
10 0 0 10 72 228 Tm
0 Tc
0.178 Tw
[(Como puedes v)15(e)0(r)40(,)-428(el)]TJ
/TT7 1 Tf
9.1272 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.1779 Tw
[(chero comienza por un número mágico que, por con)40(v)15(enio, está presente en esa)]TJ
-9.6834 -1.2 TD
0.1169 Tw
(posición para todos los )Tj
/TT7 1 Tf
9.911 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.1169 Tw
[(cheros ELF)80(.)-616.9(Así es cómo sabe UNIX que tiene un ELF entre manos. Si lue)15(go)]TJ
-10.4671 -1.2 TD
0 Tw
[(resulta que no es un ELF)80(... ¡Mala suerte!)]TJ
0 -2.4 TD
[(Pero v)25(amos a un sistema OpenBSD y v)15(eamos qué sucede...)]TJ
ET
endstream
endobj
14 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/TT4 5 0 R
/TT6 6 0 R
/TT7 7 0 R
/TT9 8 0 R
>>
/ExtGState <<
/GS1 10 0 R
>>
>>
endobj
16 0 obj
<<
/Length 3715
>>
stream
BT
/TT6 1 Tf
10 0 0 10 282.17 744 Tm
0 g
/GS1 gs
0 Tc
0 Tw
(-3-)Tj
/TT9 1 Tf
8 0 0 8 133 708 Tm
(unix$ cc -g hi.c)Tj
0 -1.5 TD
(unix$ file a.out)Tj
T*
(a.out: ELF 64-bit LSB shared object, x86-64, version 1,)Tj
T*
(for OpenBSD, dynamically linked \(uses shared libs\), not stripped)Tj
T*
(unix$)Tj
T*
(unix$ readelf -h a.out)Tj
T*
(ELF Header:)Tj
1.2 -1.5 TD
[(Magic: )-1200(7f)-600(45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00)]TJ
T*
16.8 Tw
(Class: ELF64)Tj
T*
0 Tw
[(Data: )-17400(2’s)-600(complement, little endian)]TJ
T*
15.6 Tw
[(Version: 1)-600(\(current\))]TJ
T*
16.2 Tw
[(OS/ABI: UNIX)-600(-)-600(System )16200(V)]TJ
T*
0 Tw
[(ABI Version:)-13800(0)]TJ
T*
[(Type: )-17400(DYN)-600(\(Shared object file\))]TJ
T*
[(Machine: )-15600(Advanced)-600(Micro Devices X86-64)]TJ
T*
15.6 Tw
(Version: 0x1)Tj
T*
0 Tw
[(Entry point address:)-9000(0xb40)]TJ
T*
[(Start of program headers:)-6000(64 \(bytes into file\))]TJ
T*
[(Start of section headers:)-6000(5920 \(bytes into file\))]TJ
T*
16.8 Tw
(Flags: 0x0)Tj
T*
0 Tw
[(Size of this header:)-9000(64 \(bytes\))]TJ
T*
[(Size of program headers:)-6600(56 \(bytes\))]TJ
T*
[(Number of program headers:)-5400(11)]TJ
T*
[(Size of section headers:)-6600(64 \(bytes\))]TJ
T*
[(Number of section headers:)-5400(35)]TJ
T*
(Section header string table index: 32)Tj
-1.2 -1.5 TD
(unix$)Tj
/TT6 1 Tf
10 0 0 10 72 366 Tm
0.0744 Tw
[(La constante \(mágica\) es la misma. Pero puedes v)15(er que el resto de datos v)25(aría. Por ejemplo, en Linux el)]TJ
0 -1.2 TD
0.0935 Tw
(programa comenzará a ejecutar en la dirección)Tj
/TT9 1 Tf
19.5598 0 TD
0 Tw
(0x400630)Tj
/TT6 1 Tf
5.1443 0 TD
0.0935 Tw
(\(que es el punto de entrada al programa\). En)Tj
-24.7041 -1.2 TD
0.0603 Tw
(cambio, en OpenBSD la dirección de comienzo es)Tj
/TT9 1 Tf
20.8369 0 TD
0 Tw
(0xb40)Tj
/TT6 1 Tf
3.0005 0 TD
0.0602 Tw
[(.)-310.3(E)0(l)-310.3(enlazador en cada sistema está programado)]TJ
-23.8374 -1.2 TD
0.0243 Tw
[(de acuerdo con los con)40(v)15(enios del sistema para el que enlaza, y el k)10(ernel sigue dichos con)40(v)15(enios para car)18(gar)]TJ
T*
0 Tw
(el ejecutable.)Tj
0 -2.4 TD
0.0101 Tw
(El resto del ejecutable son)Tj
/TT4 1 Tf
10.7966 0 TD
0 Tw
(secciones)Tj
/TT6 1 Tf
3.8315 0 TD
0.01 Tw
[(.)-260.1(Cada una de ellas es simplemente una serie de bytes descritos por una)]TJ
-14.6281 -1.2 TD
0.0198 Tw
[(cabecera \(otro record\). T)70(endremos una para el código ejecutable \(el te)15(xto\), otra para los datos inicializados,)]TJ
T*
0 Tw
(otra para la información de depuración, y quizá algunas más.)Tj
0 -2.4 TD
0.112 Tw
(¿Qué sucede si un )Tj
/TT7 1 Tf
7.9456 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.112 Tw
(chero binario no es del formato adecuado para nuestro sistema? Pues que UNIX no)Tj
-8.5017 -1.2 TD
0.0171 Tw
(puede ejecutarlo. Por ejemplo, esto sucede si copiamos el ELF de nuestro OpenBSD hacia un OSX e inten-)Tj
T*
0 Tw
(tamos ejecutarlo:)Tj
/TT9 1 Tf
8 0 0 8 133 204 Tm
(unix$ /tmp/a.out)Tj
0 -1.5 TD
(bash: /tmp/a.out: cannot execute binary file)Tj
T*
(unix$)Tj
/TT6 1 Tf
10 0 0 10 72 150 Tm
0.1752 Tw
(La constante mágica lo identi)Tj
/TT7 1 Tf
12.4742 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.1752 Tw
[(ca como ELF)80(,)-425.2(y)]TJ
/TT9 1 Tf
7.258 0 TD
0 Tw
(exec)Tj
/TT6 1 Tf
2.8256 0 TD
0.1752 Tw
(intentó leerlo e interpretarlo. Pero, tras mirar la)Tj
-23.114 -1.2 TD
0 Tw
(cabecera este UNIX descubre que no sabe ejecutarlo y)Tj
/TT9 1 Tf
22.0166 0 TD
(exec)Tj
/TT6 1 Tf
2.6504 0 TD
[(f)10(alla.)]TJ
/TT2 1 Tf
-24.667 -3.6 TD
0.25 Tw
[(1.2. Pr)18(ogramas )250(inter)10(pr)18(etados)]TJ
/TT6 1 Tf
0 -1.56 TD
0 Tw
(¿Y qué sucede si un )Tj
/TT7 1 Tf
8.2476 0 TD
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
[(chero ejecutable no es un binario? V)111(amos a v)15(er un ejemplo...)]TJ
ET
endstream
endobj
17 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/TT2 4 0 R
/TT4 5 0 R
/TT6 6 0 R
/TT7 7 0 R
/TT9 8 0 R
>>
/ExtGState <<
/GS1 10 0 R
>>
>>
endobj
19 0 obj
<<
/Length 6338
>>
stream
BT
/TT6 1 Tf
10 0 0 10 282.17 744 Tm
0 g
/GS1 gs
0 Tc
0 Tw
(-4-)Tj
/TT9 1 Tf
8 0 0 8 133 708 Tm
(unix$ echo echo hola > /tmp/fich)Tj
0 -1.5 TD
(unix$ chmod +x /tmp/fich)Tj
T*
(unix$ /tmp/fich)Tj
T*
(hola)Tj
T*
(unix$)Tj
/TT6 1 Tf
10 0 0 10 72 630 Tm
0.035 Tw
[(P)15(ara UNIX, un )]TJ
/TT7 1 Tf
6.3664 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.035 Tw
(chero que tiene permiso de ejecución y no es un binario conocido es un)Tj
/TT11 1 Tf
29.2587 0 TD
0 Tw
(Þ)Tj
/TT2 1 Tf
0.5562 0 TD
[(cher)18(o)-285.1(inter)10(pr)18(e-)]TJ
-36.7373 -1.2 TD
(tado)Tj
/TT6 1 Tf
1.8892 0 TD
0.0018 Tw
[(.)-251.8(UNIX denomina)]TJ
/TT2 1 Tf
7.4483 0 TD
0 Tw
(script)Tj
/TT6 1 Tf
2.6956 0 TD
0.2518 Tc
[(au)251.8(n)]TJ
/TT7 1 Tf
1.9474 0 TD
0 Tc
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.0018 Tw
(chero interpretado. Lo que hace)Tj
/TT9 1 Tf
12.947 0 TD
0 Tw
(exec)Tj
/TT6 1 Tf
2.6522 0 TD
0.0017 Tw
(con este tipo de )Tj
/TT7 1 Tf
6.5048 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.0017 Tw
(chero es ejecu-)Tj
-37.1969 -1.2 TD
0.0477 Tw
(tar un programa que hace de)Tj
/TT4 1 Tf
11.8917 0 TD
0 Tw
[(intérpr)37(ete)]TJ
/TT6 1 Tf
3.9064 0 TD
0.0478 Tw
[(.)-297.8(Y)100(a)-297.8(sabes que un intérprete es simplemente un programa que inter)20(-)]TJ
-15.798 -1.2 TD
0 Tw
(preta otro \(lo lee y ejecuta las operaciones del programa interpretado\).)Tj
0 -2.4 TD
0.0831 Tw
(En el caso de UNIX, el intérprete es)Tj
/TT9 1 Tf
15.3533 0 TD
0 Tw
(/bin/sh)Tj
/TT6 1 Tf
4.2007 0 TD
0.0831 Tw
[(.)-333.1(Esto e)15(xplica que en nuestro ejemplo, ejecutar un )]TJ
/TT7 1 Tf
20.8647 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5561 0 TD
(chero)Tj
-40.9748 -1.2 TD
0.0146 Tw
(que contiene comandos es lo mismo que ejecutar un shell y hacer que dicho shell ejecute los comandos que)Tj
T*
0 Tw
(contiene el )Tj
/TT7 1 Tf
4.6089 0 TD
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
(chero.)Tj
-5.165 -2.4 TD
0.0941 Tw
[(Dado que e)15(xisten múltiples lenguajes interpretados, es posible indicarle a UNIX qué intérprete queremos)]TJ
0 -1.2 TD
0.0071 Tw
(para un )Tj
/TT7 1 Tf
3.2349 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.0071 Tw
[(chero interpretado.)-507.1(El con)40(v)15(enio es que si un )]TJ
/TT7 1 Tf
18.0521 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.0072 Tw
(chero es un)Tj
/TT4 1 Tf
4.8253 0 TD
0 Tw
(script)Tj
/TT6 1 Tf
2.535 0 TD
0.0072 Tw
[(y)-257.2(comienza por ")]TJ
/TT9 1 Tf
6.8439 0 TD
0 Tw
(#!)Tj
/TT6 1 Tf
1.2002 0 TD
0.0072 Tw
(", entonces el)Tj
-37.8037 -1.2 TD
0.0476 Tw
(resto de bytes hasta el primer )Tj
/TT7 1 Tf
12.226 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.0476 Tw
(n de línea indica la línea de comandos que hay que utilizar para interpretar)Tj
-12.7822 -1.2 TD
0 Tw
(el )Tj
/TT7 1 Tf
0.9717 0 TD
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
(chero.)Tj
-1.5278 -2.4 TD
[(Por ejemplo, v)25(amos a crear un script con este contenido)]TJ
/TT9 1 Tf
8 0 0 8 133 444 Tm
(#!/bin/echo)Tj
0 -1.5 TD
(ya sabemos que echo\(1\) no lee de stdin)Tj
/TT6 1 Tf
10 0 0 10 72 414 Tm
(en el )Tj
/TT7 1 Tf
2.1655 0 TD
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
(chero)Tj
/TT9 1 Tf
2.4707 0 TD
(ecoeco)Tj
/TT6 1 Tf
3.8506 0 TD
[(y)-250(a)-250(ejecutarlo:)]TJ
/TT9 1 Tf
8 0 0 8 133 396 Tm
(unix$ ecoeco)Tj
0 -1.5 TD
(./ecoeco)Tj
T*
(unix$ ecoeco -abc hola caracola)Tj
T*
(./ecoeco -abc hola caracola)Tj
T*
(unix$)Tj
/TT6 1 Tf
10 0 0 10 72 318 Tm
0.079 Tw
(Cuando escribimos la línea de comandos ")Tj
/TT9 1 Tf
17.4891 0 TD
0 Tw
(ecoeco)Tj
/TT6 1 Tf
3.6006 0 TD
0.0791 Tw
[(")-329(e)0(n)-329(e)0(l)-329(shell, éste la lee y decide hacer un)]TJ
/TT9 1 Tf
17.548 0 TD
0 Tw
(fork)Tj
/TT6 1 Tf
2.7295 0 TD
0.3291 Tc
[(yu)329.1(n)]TJ
/TT9 1 Tf
-41.3672 -1.2 TD
0 Tc
(exec)Tj
/TT6 1 Tf
2.6785 0 TD
(de)Tj
/TT9 1 Tf
1.2219 0 TD
(./ecoeco)Tj
/TT6 1 Tf
4.8008 0 TD
0.0281 Tw
[(.)-278.1(E)0(l)-278.1(resto depende del código de)]TJ
/TT9 1 Tf
13.248 0 TD
0 Tw
(exec)Tj
/TT6 1 Tf
2.6785 0 TD
0.0281 Tw
[(en el k)10(ernel de UNIX. El shell ya ha hecho su)]TJ
-24.6277 -1.2 TD
0 Tw
(trabajo llamando a)Tj
/TT9 1 Tf
7.6914 0 TD
(exec)Tj
/TT6 1 Tf
2.6504 0 TD
[(y)-250(n)0(o)-250(tiene ni idea de si el )]TJ
/TT7 1 Tf
10.2192 0 TD
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
(chero que se quiere ejecutar es un binario o un script.)Tj
-21.1172 -2.4 TD
0.0681 Tw
(Sabemos lo que hace)Tj
/TT4 1 Tf
8.9365 0 TD
0 Tw
[(ec)15(ho\(1\))]TJ
/TT6 1 Tf
3.0387 0 TD
0.0681 Tw
[(.)-318.1(Y)-318.1(que no hay magia en nada de lo que ha sucedido. El k)10(ernel de UNIX ha)]TJ
-11.9752 -1.2 TD
0.0938 Tw
(leído los primeros bytes de)Tj
/TT9 1 Tf
11.4949 0 TD
0 Tw
(ecoeco)Tj
/TT6 1 Tf
3.9444 0 TD
0.0937 Tw
[(y)-343.8(h)0(a)-343.8(visto que el intérprete para dicho )]TJ
/TT7 1 Tf
16.0774 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.0937 Tw
(chero es)Tj
/TT9 1 Tf
3.7411 0 TD
0 Tw
(/bin/echo)Tj
/TT6 1 Tf
5.4009 0 TD
[(.)-343.7(Así)]TJ
-41.2148 -1.2 TD
[(pues, el k)10(ernel se comporta como si la llamada a)]TJ
/TT9 1 Tf
19.6218 0 TD
(exec)Tj
/TT6 1 Tf
2.6504 0 TD
(fuese del estilo a)Tj
/TT9 1 Tf
8 0 0 8 133 228 Tm
(execl\("/bin/echo", "ecoeco", "./ecoeco", NULL\);)Tj
/TT6 1 Tf
10 0 0 10 72 210 Tm
[(en el primer caso y)65(,)]TJ
/TT9 1 Tf
8 0 0 8 133 192 Tm
(execl\("/bin/echo", "ecoeco", "./ecoeco", "-abc", "hola", "caracola", NULL\);)Tj
/TT6 1 Tf
10 0 0 10 72 174 Tm
[(en el se)15(gundo caso.)]TJ
0 -2.4 TD
0.0881 Tw
[(Es importante que v)15(eas que ")]TJ
/TT9 1 Tf
12.0803 0 TD
0 Tw
(./ecoeco)Tj
/TT6 1 Tf
4.8008 0 TD
0.3381 Tc
[("e)338.1(s)]TJ
/TT9 1 Tf
1.9174 0 TD
0 Tc
(argv[1])Tj
/TT6 1 Tf
4.5388 0 TD
(cuando)Tj
/TT9 1 Tf
3.2258 0 TD
(echo)Tj
/TT6 1 Tf
2.7385 0 TD
0.0881 Tw
(ha ejecutado. Por eso)Tj
/TT9 1 Tf
9.0996 0 TD
0 Tw
(echo)Tj
/TT6 1 Tf
2.7386 0 TD
0.0882 Tw
(lo ha)Tj
-41.1397 -1.2 TD
0 Tw
(escrito.)Tj
0 -2.4 TD
0.1588 Tw
(En resumen, en el caso de un script)Tj
/TT9 1 Tf
15.6267 0 TD
0 Tw
(exec)Tj
/TT6 1 Tf
2.8091 0 TD
0.1587 Tw
(ejecuta el intérprete \(siendo este)Tj
/TT9 1 Tf
13.9258 0 TD
0 Tw
(/bin/sh)Tj
/TT6 1 Tf
4.6094 0 TD
0.1587 Tw
(si no se utiliza)Tj
-36.971 -1.2 TD
0 Tw
(")Tj
/TT9 1 Tf
0.4082 0 TD
(#!)Tj
/TT6 1 Tf
1.2002 0 TD
0.0265 Tw
[(..." y cambia el v)15(ector de ar)18(gumentos para indicarle al intérprete qué )]TJ
/TT7 1 Tf
27.8753 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.0265 Tw
(chero hay que interpretar \(el que)Tj
-30.0399 -1.2 TD
0 Tw
(se indicó en la llamada a)Tj
/TT9 1 Tf
10.1069 0 TD
(exec)Tj
/TT6 1 Tf
2.4004 0 TD
(\).)Tj
-12.5073 -2.4 TD
[(V)111(eamos otro ejemplo para v)15(er si esto resulta más claro ahora. V)111(amos a ejecutar este script)]TJ
ET
endstream
endobj
20 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/TT2 4 0 R
/TT4 5 0 R
/TT6 6 0 R
/TT7 7 0 R
/TT9 8 0 R
/TT11 21 0 R
>>
/ExtGState <<
/GS1 10 0 R
>>
>>
endobj
23 0 obj
<<
/Length 2754
>>
stream
BT
/TT6 1 Tf
10 0 0 10 282.17 744 Tm
0 g
/GS1 gs
0 Tc
0 Tw
(-5-)Tj
/TT9 1 Tf
8 0 0 8 133 708 Tm
(#!/bin/echo a b c)Tj
/TT6 1 Tf
10 0 0 10 72 690 Tm
[(y)-250(v)15(er lo que sucede)]TJ
/TT9 1 Tf
8 0 0 8 133 672 Tm
(unix$ eco2 x y z)Tj
0 -1.5 TD
[(a)-600(b)-600(c)-600(./eco2 x y z)]TJ
T*
(unix$)Tj
/TT6 1 Tf
10 0 0 10 72 618 Tm
(Al llamar a)Tj
/TT9 1 Tf
8 0 0 8 133 600 Tm
(execl\("./eco2", "eco2", "x", "y", "z", NULL\);)Tj
/TT6 1 Tf
10 0 0 10 72 582 Tm
(UNIX se ha comportado como si la llamada hubiera sido)Tj
/TT9 1 Tf
8 0 0 8 133 564 Tm
(execl\("/bin/echo", "eco2", "a", "b", "c", "eco2", "x", "y", "z", NULL\);)Tj
/TT6 1 Tf
10 0 0 10 72 534 Tm
0.0385 Tw
(Ha dejado)Tj
/TT9 1 Tf
4.4085 0 TD
0 Tw
(argv[0])Tj
/TT6 1 Tf
4.4892 0 TD
0.0385 Tw
[(con el nombre del script y ha cambiado el resto de ar)18(gumentos para incluir al princi-)]TJ
-8.8977 -1.2 TD
0.0703 Tw
[(pio los ar)18(gumentos indicados en la línea ")]TJ
/TT9 1 Tf
17.1846 0 TD
0 Tw
(#!)Tj
/TT6 1 Tf
1.2002 0 TD
0.0704 Tw
(...". En cuanto al )Tj
/TT7 1 Tf
7.1878 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.0704 Tw
(chero ejecutable, ha ejecutado el indicado)Tj
-26.1288 -1.2 TD
0 Tw
(tras ")Tj
/TT9 1 Tf
2.1021 0 TD
(#!)Tj
/TT6 1 Tf
1.2002 0 TD
(".)Tj
-3.3022 -2.4 TD
0.1289 Tw
(¿Comprendes por qué en este caso da igual el contenido del )Tj
/TT7 1 Tf
25.5488 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.1289 Tw
(chero tras la línea ")Tj
/TT9 1 Tf
8.2534 0 TD
0 Tw
(#!)Tj
/TT6 1 Tf
1.2002 0 TD
0.1289 Tw
(..."? ¡)Tj
/TT9 1 Tf
2.314 0 TD
0 Tw
(echo)Tj
/TT6 1 Tf
2.7792 0 TD
0.1288 Tw
(no lee)Tj
-40.6516 -1.2 TD
0 Tw
(ningún )Tj
/TT7 1 Tf
3.0278 0 TD
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
(chero!)Tj
-3.584 -2.4 TD
(Otro ejemplo más:)Tj
/TT9 1 Tf
8 0 0 8 133 432 Tm
(unix$ cat /tmp/catme)Tj
0 -1.5 TD
(#!/bin/cat)Tj
T*
(uno)Tj
T*
(dos)Tj
T*
(unix$ /tmp/catme)Tj
T*
(#!/bin/cat)Tj
T*
(uno)Tj
T*
(dos)Tj
T*
(unix$)Tj
/TT6 1 Tf
10 0 0 10 72 306 Tm
0.1536 Tw
(El comando)Tj
/TT4 1 Tf
5.3614 0 TD
0 Tw
(hoc\(1\))Tj
/TT6 1 Tf
3.0135 0 TD
0.1537 Tw
(es una calculadora. Quizá no esté instalado en tu UNIX, pero [1] tiene el fuente y)Tj
-8.3749 -1.2 TD
0.0984 Tw
[(e)15(xplica cómo está programa. Puedes v)15(er que)]TJ
/TT9 1 Tf
18.7076 0 TD
0 Tw
(hoc)Tj
/TT6 1 Tf
2.1487 0 TD
0.0983 Tw
[(e)25(v)25(alúa e)15(xpresiones que lee de la entrada e imprime su)]TJ
-20.8563 -1.2 TD
0 Tw
[(v)25(alor:)]TJ
/TT9 1 Tf
8 0 0 8 133 264 Tm
(unix$ hoc)Tj
0 -1.5 TD
0.6 Tc
(2+2)Tj
T*
0 Tc
(4)Tj
T*
(ˆD)Tj
T*
(unix$)Tj
/TT6 1 Tf
10 0 0 10 72 186 Tm
[(¡V)111(amos a crear un script!)]TJ
/TT9 1 Tf
8 0 0 8 133 168 Tm
(unix$ cat >/tmp/exprs)Tj
T*
(#!/bin/hoc)Tj
T*
0.6 Tc
(2+2)Tj
T*
(3*5)Tj
T*
0 Tc
(ˆD)Tj
T*
(unix$)Tj
T*
(unix$ chmod +x /tmp/exprs)Tj
/TT6 1 Tf
10 0 0 10 72 66 Tm
(¿Comprendes por qué al ejecutarlo sucede esto?)Tj
ET
endstream
endobj
24 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/TT4 5 0 R
/TT6 6 0 R
/TT7 7 0 R
/TT9 8 0 R
>>
/ExtGState <<
/GS1 10 0 R
>>
>>
endobj
26 0 obj
<<
/Length 4348
>>
stream
BT
/TT6 1 Tf
10 0 0 10 282.17 744 Tm
0 g
/GS1 gs
0 Tc
0 Tw
(-6-)Tj
/TT9 1 Tf
8 0 0 8 133 708 Tm
(unix$ /tmp/exprs)Tj
0 -1.5 TD
(4)Tj
T*
(15)Tj
T*
(unix$)Tj
/TT2 1 Tf
10 0 0 10 72 630 Tm
0.25 Tw
[(1.3. Scripts)-250(de )250(shell)]TJ
/TT6 1 Tf
0 -1.56 TD
0.1142 Tw
(De ahora en adelante, puedes escribir )Tj
/TT7 1 Tf
15.8722 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.1142 Tw
(cheros que contienen comandos de shell para ejecutar tareas que)Tj
-16.4284 -1.2 TD
0.035 Tw
[(repites múltiples v)15(eces. Por ejemplo, si estás todo el tiempo compilando y ejecutando un programa podrías)]TJ
T*
-0.0002 Tc
0.0002 Tw
[(hacer un script que haga)-250.2(tal cosa en lugar de hacerlo a mano.)]TJ
0 -2.4 TD
0 Tc
0 Tw
(Suponiendo que nuestro )Tj
/TT7 1 Tf
9.9155 0 TD
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
(chero fuente es)Tj
/TT9 1 Tf
6.3022 0 TD
(f.c)Tj
/TT6 1 Tf
1.8003 0 TD
[(,)-250(podríamos crear este script)]TJ
/TT9 1 Tf
8 0 0 8 133 548.4 Tm
(#!/bin/sh)Tj
0 -1.5 TD
(cc -g f.c)Tj
T*
(./a.out)Tj
/TT6 1 Tf
10 0 0 10 72 506.4 Tm
(en el )Tj
/TT7 1 Tf
2.1655 0 TD
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
(chero)Tj
/TT9 1 Tf
2.4707 0 TD
(xc)Tj
/TT6 1 Tf
1.4502 0 TD
[(y)-250(e)0(n)-250(futuro podemos ejecutar)]TJ
/TT9 1 Tf
8 0 0 8 133 488.4 Tm
(unix$ xc)Tj
0 -1.5 TD
(hola mundo)Tj
T*
(unix$)Tj
/TT6 1 Tf
10 0 0 10 72 446.4 Tm
-0.0001 Tc
0.0001 Tw
[(en lugar de compilar y ejecutar a mano el programa cada v)14.9(ez.)]TJ
0 -2.4 TD
0 Tc
0.0321 Tw
(No obstante, si tenemos un error de compilación el script ejecuta el )Tj
/TT7 1 Tf
27.5151 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
(chero)Tj
/TT9 1 Tf
2.5029 0 TD
(a.out)Tj
/TT6 1 Tf
3.2827 0 TD
0.0322 Tw
(aunque no corresponda)Tj
-33.8568 -1.2 TD
0 Tw
(al fuente que hemos intentado compilar \(sin éxito\).)Tj
0 -2.4 TD
0.1755 Tw
[(Podemos apro)15(v)15(echarnos de que el shell es en realidad un lenguaje de programación. P)15(ara el shell, los)]TJ
0 -1.2 TD
0.0551 Tw
(comandos pueden utilizarse como condiciones de ")Tj
/TT9 1 Tf
20.7881 0 TD
0 Tw
(if)Tj
/TT6 1 Tf
1.2002 0 TD
0.0552 Tw
(s". Si al comando que utilizamos como condición le)Tj
-21.9883 -1.2 TD
0.0258 Tw
(ha ido bien \(su estatus de salida es)Tj
/TT9 1 Tf
14.203 0 TD
0 Tw
(0)Tj
/TT6 1 Tf
0.6001 0 TD
0.0257 Tw
[(\))-275.8(entonces el shell considera que hay que ejecutar el cuerpo del)]TJ
/TT9 1 Tf
25.7416 0 TD
0 Tw
(then)Tj
/TT6 1 Tf
2.4004 0 TD
(.)Tj
-42.9451 -1.2 TD
[(En otro caso el shell interpreta la condición como f)10(alsa.)]TJ
0 -2.4 TD
(Este es nuestro script utilizando un ")Tj
/TT9 1 Tf
14.6274 0 TD
(if)Tj
/TT6 1 Tf
1.2002 0 TD
[(")-250(del shell:)]TJ
/TT9 1 Tf
8 0 0 8 133 308.4 Tm
(#!/bin/sh)Tj
0 -1.5 TD
(if cc f.c)Tj
T*
(then)Tj
2.4 -1.5 TD
(./a.out)Tj
-2.4 -1.5 TD
(fi)Tj
/TT6 1 Tf
10 0 0 10 72 242.4 Tm
[(Y)-250(ahora, si cambiamos)]TJ
/TT9 1 Tf
9.4141 0 TD
(f.c)Tj
/TT6 1 Tf
2.0503 0 TD
-0.0001 Tc
0.0001 Tw
[(para que tenga)-250.1(u)-0.1(n)-250.1(error sintáctico y no compile...)]TJ
/TT9 1 Tf
8 0 0 8 133 224.4 Tm
0 Tc
0 Tw
(unix$ xc)Tj
0 -1.5 TD
(f.c:10:20: error: expected ’;’ after expression)Tj
T*
[(1)-600(error generated.)]TJ
T*
(unix$)Tj
/TT6 1 Tf
10 0 0 10 72 170.4 Tm
(el script no ejecuta)Tj
/TT9 1 Tf
7.7744 0 TD
(a.out)Tj
/TT6 1 Tf
3.0005 0 TD
[(.)-250(S)0(i)-250(arre)15(glamos el error)]TJ
/TT9 1 Tf
8 0 0 8 133 152.4 Tm
(unix$ xc)Tj
0 -1.5 TD
(hola mundo)Tj
T*
(unix$)Tj
/TT6 1 Tf
10 0 0 10 72 110.4 Tm
0.0212 Tw
(el comando)Tj
/TT9 1 Tf
4.9296 0 TD
0 Tw
(cc)Tj
/TT6 1 Tf
1.4714 0 TD
0.0212 Tw
(hará un ")Tj
/TT9 1 Tf
3.6713 0 TD
0 Tw
(exit\(0\))Tj
/TT6 1 Tf
4.2007 0 TD
0.0212 Tw
(", por lo que el shell recibirá)Tj
/TT9 1 Tf
11.7749 0 TD
0 Tw
(0)Tj
/TT6 1 Tf
0.8713 0 TD
0.0212 Tw
(cuando llame a)Tj
/TT9 1 Tf
6.3663 0 TD
0 Tw
(wait)Tj
/TT6 1 Tf
2.6716 0 TD
0.0213 Tw
(esperando que)Tj
/TT9 1 Tf
6.0402 0 TD
0 Tw
(cc)Tj
/TT6 1 Tf
-41.9972 -1.2 TD
0.0418 Tw
(termine. Puesto que)Tj
/TT9 1 Tf
8.2904 0 TD
0 Tw
(cc)Tj
/TT6 1 Tf
1.492 0 TD
0.0417 Tw
(se ha utilizado como condición en un)Tj
/TT9 1 Tf
15.4267 0 TD
0 Tw
(if)Tj
/TT6 1 Tf
1.2002 0 TD
0.0417 Tw
[(,)-291.7(e)0(l)-291.7(shell entiende que hay que considerar)]TJ
-26.4093 -1.2 TD
0.0922 Tw
(que la condición es cierta y ejecutará las líneas de comandos contenidas entre la línea ")Tj
/TT9 1 Tf
36.1931 0 TD
0 Tw
(then)Tj
/TT6 1 Tf
2.4004 0 TD
[(")-342.3(y)-342.3(l)0(a)-342.3(línea)]TJ
-38.5934 -1.2 TD
(")Tj
/TT9 1 Tf
0.4082 0 TD
(fi)Tj
/TT6 1 Tf
1.2002 0 TD
(".)Tj
ET
endstream
endobj
27 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/TT2 4 0 R
/TT6 6 0 R
/TT7 7 0 R
/TT9 8 0 R
>>
/ExtGState <<
/GS1 10 0 R
>>
>>
endobj
29 0 obj
<<
/Length 4343
>>
stream
BT
/TT6 1 Tf
10 0 0 10 282.17 744 Tm
0 g
/GS1 gs
0 Tc
0 Tw
(-7-)Tj
-21.017 -3.6 TD
(Recuerda que el shell lee líneas de comandos, no es C:)Tj
/TT9 1 Tf
8 0 0 8 133 690 Tm
(unix$ if echo hola ; then date ; fi)Tj
0 -1.5 TD
(hola)Tj
T*
(Fri Aug 26 09:59:55 CEST 2016)Tj
T*
(unix$)Tj
/TT6 1 Tf
10 0 0 10 72 636 Tm
[(Lue)15(go si escribimos...)]TJ
2.5 -1.2 TD
(unix$ if echo hola then date )Tj
/TT7 1 Tf
11.3853 0 TD
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
( >)Tj
-11.9414 -1.2 TD
(])Tj
-2.5 -1.2 TD
0.1046 Tw
(el shell escribe otro prompt para indicarnos que el comando)Tj
/TT9 1 Tf
25.2047 0 TD
0 Tw
(if)Tj
/TT6 1 Tf
1.5548 0 TD
0.1046 Tw
(no está completo y necesitamos escribir)Tj
-26.7595 -1.2 TD
0.0008 Tw
[(más líneas.)-500.8(Concretamente, el shell está le)15(yendo otra línea de comandos y esta debería ser un ")]TJ
/TT9 1 Tf
38.1437 0 TD
0 Tw
(then)Tj
/TT6 1 Tf
2.4004 0 TD
0.0009 Tw
[(". T)35(ras)]TJ
-40.5441 -1.2 TD
0 Tw
(")Tj
/TT9 1 Tf
0.4082 0 TD
(if)Tj
/TT6 1 Tf
1.2002 0 TD
0.0033 Tw
[(")-253.3(todos los ar)18(gumentos se ejecutarán como un comando que el shell utiliza como condición, lue)15(go ha de)]TJ
-1.6084 -1.2 TD
0 Tw
[(se)15(guir un "comando")]TJ
/TT9 1 Tf
8.6608 0 TD
(then)Tj
/TT6 1 Tf
2.6504 0 TD
(\(que es parte de la sintaxis de shell para el)Tj
/TT4 1 Tf
17.1045 0 TD
(if)Tj
/TT6 1 Tf
0.5557 0 TD
[(,)-250(y)-250(n)0(o)-250(u)0(n)-250(comando en si mismo\).)]TJ
-28.9713 -2.4 TD
0.0103 Tw
(El shell de)Tj
/TT7 1 Tf
4.2418 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.0103 Tw
[(ne v)25(ariables de entorno para permitir que procesemos los ar)18(gumentos en scripts, y podemos uti-)]TJ
-4.7979 -1.2 TD
0.037 Tw
(lizarlas para que nuestro script)Tj
/TT9 1 Tf
12.6523 0 TD
0 Tw
(xc)Tj
/TT6 1 Tf
1.4872 0 TD
0.0369 Tw
(compile y ejecute cualquier )Tj
/TT7 1 Tf
11.4201 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.0369 Tw
(chero, así escribimos menos y no tenemos)Tj
-26.1157 -1.2 TD
0 Tw
[(que editar el script cada v)15(ez que lo usemos con un programa distinto. Concretamente)]TJ
2.5 -1.56 TD
(•)Tj
/TT9 1 Tf
2.5001 0 TD
($*)Tj
/TT6 1 Tf
1.4502 0 TD
[(equi)25(v)25(ale a los ar)18(gumentos del script)]TJ
-3.9503 -1.56 TD
(•)Tj
/TT9 1 Tf
2.5001 0 TD
($#)Tj
/TT6 1 Tf
1.496 0 TD
0.0458 Tw
[(contiene cuántos ar)18(gumentos hay \(es un string, como el v)25(alor de cualquier otra v)25(ariable de)]TJ
-1.4961 -1.2 TD
0 Tw
(entorno\))Tj
-2.5 -1.56 TD
(•)Tj
/TT9 1 Tf
2.5001 0 TD
($0)Tj
/TT6 1 Tf
1.4502 0 TD
(es el nombre del script.)Tj
-3.9503 -1.56 TD
(•)Tj
/TT9 1 Tf
2.5001 0 TD
($1)Tj
/TT6 1 Tf
1.4502 0 TD
[(es el primer ar)18(gumento,)]TJ
/TT9 1 Tf
9.7286 0 TD
($2)Tj
/TT6 1 Tf
1.4502 0 TD
[(el se)15(gundo, etc.)]TJ
-17.6291 -2.4 TD
(Así pues, este script)Tj
/TT9 1 Tf
8.2485 0 TD
(xc)Tj
/TT6 1 Tf
1.4502 0 TD
(compila el )Tj
/TT7 1 Tf
4.4429 0 TD
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
[(chero que se indica como ar)18(gumento:)]TJ
/TT9 1 Tf
8 0 0 8 133 399.6 Tm
(#!/bin/sh)Tj
0 -1.5 TD
(if cc $1)Tj
T*
(then)Tj
2.4 -1.5 TD
(./a.out)Tj
-2.4 -1.5 TD
(fi)Tj
/TT6 1 Tf
10 0 0 10 72 333.6 Tm
[(y)-250(l)0(o)-250(podemos utilizar para compilar y ejecutar cualquier fuente en C)]TJ
/TT9 1 Tf
8 0 0 8 133 315.6 Tm
(unix$ xc f.c)Tj
T*
(hola mundo)Tj
T*
(unix$)Tj
/TT6 1 Tf
10 0 0 10 72 261.6 Tm
[(Podemos mejorarlo un poco más si hacemos que el script compruebe que de v)15(erdad recibe un ar)18(gumento.)]TJ
/TT9 1 Tf
8 0 0 8 133 243.6 Tm
(#!/bin/sh)Tj
T*
(if test $# -eq 0)Tj
T*
(then)Tj
2.4 -1.5 TD
(echo usage: $0 fich)Tj
T*
(exit 1)Tj
-2.4 -1.5 TD
(fi)Tj
T*
(if cc $1)Tj
T*
(then)Tj
2.4 -1.5 TD
(./a.out)Tj
-2.4 -1.5 TD
(fi)Tj
/TT6 1 Tf
10 0 0 10 72 105.5999 Tm
0.0685 Tw
(Aquí hemos utilizado el comando)Tj
/TT4 1 Tf
14.0895 0 TD
0 Tw
(test\(1\))Tj
/TT6 1 Tf
2.8731 0 TD
0.0684 Tw
(para comprobar que ")Tj
/TT9 1 Tf
8.8595 0 TD
0 Tw
($#)Tj
/TT6 1 Tf
1.2002 0 TD
0.0684 Tw
[(")-318.4(e)0(s)-318.4(igual al ")]TJ
/TT9 1 Tf
5.6442 0 TD
0 Tw
(0)Tj
/TT6 1 Tf
0.6001 0 TD
0.0684 Tw
(". Este comando es muy)Tj
-33.2666 -1.2 TD
0.1732 Tw
[(útil para e)25(v)25(aluar condiciones en los)]TJ
/TT9 1 Tf
15.373 0 TD
0 Tw
(if)Tj
/TT6 1 Tf
1.6234 0 TD
0.1732 Tw
[(en el shell. Si no hay ar)18(gumentos, el script utiliza)]TJ
/TT9 1 Tf
21.6543 0 TD
0 Tw
(echo)Tj
/TT6 1 Tf
2.8237 0 TD
(para)Tj
-41.4744 -1.2 TD
(escribir un mensaje indicando su uso \(y utilizamos ")Tj
/TT9 1 Tf
20.9038 0 TD
($0)Tj
/TT6 1 Tf
1.2002 0 TD
[(")-250(como nombre del script\).)]TJ
ET
endstream
endobj
30 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/TT4 5 0 R
/TT6 6 0 R
/TT7 7 0 R
/TT9 8 0 R
>>
/ExtGState <<
/GS1 10 0 R
>>
>>
endobj
32 0 obj
<<
/Length 438
>>
stream
BT
/TT6 1 Tf
10 0 0 10 282.17 744 Tm
0 g
/GS1 gs
0 Tc
0 Tw
(-8-)Tj
/TT9 1 Tf
8 0 0 8 133 708 Tm
(unix$ xc)Tj
0 -1.5 TD
(usage: ./xc fich)Tj
T*
(unix$)Tj
/TT6 1 Tf
10 0 0 10 72 666 Tm
(En otro caso el script hace su trabajo como antes.)Tj
/TT2 1 Tf
0 -3.6 TD
[(Refer)18(encias)]TJ
/TT6 1 Tf
8 0 0 8 72 614.4 Tm
[(1. The UNIX Programming En)40(vironment. Brian W)92(.)-250(K)25(ernighan,Rob Pik)10(e. )-250(Prentice-Hall.)-250(1984.)]TJ
ET
endstream
endobj
33 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/TT2 4 0 R
/TT6 6 0 R
/TT9 8 0 R
>>
/ExtGState <<
/GS1 10 0 R
>>
>>
endobj
10 0 obj
<<
/Type /ExtGState
/SA false
/SM 0.02
/OP false
/op false
/OPM 1
/BG2 /Default
/UCR2 /Default
/HT /Default
/TR2 /Default
>>
endobj
34 0 obj
<<
/Type /FontDescriptor
/Ascent 750
/CapHeight 676
/Descent -250
/Flags 262178
/FontBBox [-168 -218 1000 935]
/FontName /Times-Bold
/ItalicAngle 0
/StemV 133
/XHeight 461
/StemH 139
>>
endobj
35 0 obj
<<
/Type /FontDescriptor
/Ascent 750
/CapHeight 653
/Descent -250
/Flags 98
/FontBBox [-169 -217 1010 883]
/FontName /Times-Italic
/ItalicAngle -15
/StemV 76
/XHeight 441
/StemH 76
>>
endobj
36 0 obj
<<
/Type /FontDescriptor
/Ascent 750
/CapHeight 662
/Descent -250
/Flags 34
/FontBBox [-168 -218 1000 898]
/FontName /Times-Roman
/ItalicAngle 0
/StemV 84
/XHeight 450
/StemH 84
>>
endobj
37 0 obj
<<
/Type /FontDescriptor
/Ascent 750
/CapHeight 662
/Descent -250
/Flags 34
/FontBBox [-168 -218 1000 898]
/FontName /Times-Roman
/ItalicAngle 0
/StemV 84
/XHeight 450
/StemH 84
>>
endobj
38 0 obj
<<
/Type /FontDescriptor
/Ascent 753
/CapHeight 562
/Descent -246
/Flags 35
/FontBBox [-28 -250 628 805]
/FontName /Courier
/ItalicAngle 0
/StemV 51
/XHeight 426
/StemH 51
>>
endobj
39 0 obj
<<
/Type /FontDescriptor
/Ascent 750
/CapHeight 653
/Descent -250
/Flags 98
/FontBBox [-169 -217 1010 883]
/FontName /Times-Italic
/ItalicAngle -15
/StemV 76
/XHeight 441
/StemH 76
>>
endobj
40 0 obj
<<
/Type /FontDescriptor
/Ascent 750
/CapHeight 676
/Descent -250
/Flags 262178
/FontBBox [-168 -218 1000 935]
/FontName /Times-Bold
/ItalicAngle 0
/StemV 133
/XHeight 461
/StemH 139
>>
endobj
4 0 obj
<<
/Type /Font
/Subtype /TrueType
/FirstChar 32
/LastChar 243
/Widths [250 0 0 0 0 0 0 0 0 0 0 0 0 333 250 0 
0 500 500 500 0 0 0 0 0 0 333 0 0 0 0 0 
0 0 667 0 0 667 0 0 0 389 0 0 0 0 0 778 
611 0 722 556 0 0 0 0 0 0 0 0 0 0 0 0 
0 500 556 444 556 444 333 500 556 278 333 0 278 833 556 500 
556 0 444 389 333 556 500 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 500 ]
/Encoding /WinAnsiEncoding
/BaseFont /Times-Bold
/FontDescriptor 34 0 R
>>
endobj
5 0 obj
<<
/Type /Font
/Subtype /TrueType
/FirstChar 32
/LastChar 250
/Widths [250 0 0 0 0 0 0 0 333 333 0 0 0 0 0 0 
0 500 0 0 0 500 0 0 0 0 0 0 0 0 0 0 
0 0 611 667 0 611 611 0 0 0 444 0 556 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 500 500 444 500 444 278 500 500 278 0 444 278 722 500 500 
500 0 389 389 278 500 0 0 444 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 500 0 0 0 0 0 0 0 444 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 500 ]
/Encoding /WinAnsiEncoding
/BaseFont /Times-Italic
/FontDescriptor 35 0 R
>>
endobj
6 0 obj
<<
/Type /Font
/Subtype /TrueType
/FirstChar 32
/LastChar 250
/Widths [250 333 408 0 500 0 0 0 333 333 0 0 250 333 250 0 
0 500 500 500 500 500 500 500 500 500 278 0 0 0 564 444 
0 722 667 667 722 611 556 0 722 333 0 722 611 889 722 722 
556 722 667 556 611 722 722 944 722 722 0 333 0 333 0 0 
0 444 500 444 500 444 333 500 500 278 278 500 278 778 500 500 
500 500 333 389 278 500 500 0 500 500 444 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 350 0 0 0 0 0 0 0 0 0 0 
0 333 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 444 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 444 0 0 0 0 0 0 0 444 0 0 0 278 0 0 
0 0 0 500 0 0 0 0 0 0 500 ]
/Encoding /WinAnsiEncoding
/BaseFont /Times-Roman
/FontDescriptor 36 0 R
>>
endobj
7 0 obj
<<
/Type /Font
/Subtype /TrueType
/FirstChar 222
/LastChar 222
/Widths [556 ]
/Encoding /MacRomanEncoding
/BaseFont /Times-Roman
/FontDescriptor 37 0 R
>>
endobj
8 0 obj
<<
/Type /Font
/Subtype /TrueType
/FirstChar 32
/LastChar 146
/Widths [600 600 600 600 600 0 0 0 600 600 600 600 600 600 600 600 
600 600 600 600 600 600 600 600 600 600 600 600 600 0 600 0 
0 600 600 600 600 600 600 600 600 600 0 0 600 600 600 600 
0 0 0 600 600 600 600 0 600 600 0 600 0 600 0 0 
0 600 600 600 600 600 600 600 600 600 600 600 600 600 600 600 
600 600 600 600 600 600 600 600 600 600 600 600 600 600 0 0 
0 0 0 0 0 0 0 0 600 0 0 0 0 0 0 0 
0 0 600 ]
/Encoding /WinAnsiEncoding
/BaseFont /Courier
/FontDescriptor 38 0 R
>>
endobj
9 0 obj
<<
/Type /Font
/Subtype /TrueType
/FirstChar 222
/LastChar 222
/Widths [500 ]
/Encoding /MacRomanEncoding
/BaseFont /Times-Italic
/FontDescriptor 39 0 R
>>
endobj
21 0 obj
<<
/Type /Font
/Subtype /TrueType
/FirstChar 222
/LastChar 222
/Widths [556 ]
/Encoding /MacRomanEncoding
/BaseFont /Times-Bold
/FontDescriptor 40 0 R
>>
endobj
1 0 obj
<<
/Type /Page
/Parent 11 0 R
/Resources 3 0 R
/Contents 2 0 R
>>
endobj
12 0 obj
<<
/Type /Page
/Parent 11 0 R
/Resources 14 0 R
/Contents 13 0 R
>>
endobj
15 0 obj
<<
/Type /Page
/Parent 11 0 R
/Resources 17 0 R
/Contents 16 0 R
>>
endobj
18 0 obj
<<
/Type /Page
/Parent 11 0 R
/Resources 20 0 R
/Contents 19 0 R
>>
endobj
22 0 obj
<<
/Type /Page
/Parent 11 0 R
/Resources 24 0 R
/Contents 23 0 R
>>
endobj
25 0 obj
<<
/Type /Page
/Parent 11 0 R
/Resources 27 0 R
/Contents 26 0 R
>>
endobj
28 0 obj
<<
/Type /Page
/Parent 11 0 R
/Resources 30 0 R
/Contents 29 0 R
>>
endobj
31 0 obj
<<
/Type /Page
/Parent 11 0 R
/Resources 33 0 R
/Contents 32 0 R
>>
endobj
41 0 obj
<<
/S /D
>>
endobj
42 0 obj
<<
/Nums [0 41 0 R ]
>>
endobj
11 0 obj
<<
/Type /Pages
/Kids [1 0 R 12 0 R 15 0 R 18 0 R 22 0 R 25 0 R 28 0 R 31 0 R]
/Count 8
/MediaBox [0 0 612 792]
>>
endobj
43 0 obj
<<
/CreationDate (D:20160905151716+02'00')
/ModDate (D:20160905151716+02'00')
/Producer (Apple pstopdf)
>>
endobj
44 0 obj
<<
/Type /Catalog
/Pages 11 0 R
/PageLabels 42 0 R
>>
endobj
xref
0 45
0000000000 65535 f 
0000036437 00000 n 
0000000016 00000 n 
0000003897 00000 n 
0000033244 00000 n 
0000033914 00000 n 
0000034598 00000 n 
0000035371 00000 n 
0000035541 00000 n 
0000036096 00000 n 
0000031714 00000 n 
0000037174 00000 n 
0000036518 00000 n 
0000004049 00000 n 
0000008527 00000 n 
0000036602 00000 n 
0000008657 00000 n 
0000012425 00000 n 
0000036686 00000 n 
0000012566 00000 n 
0000018957 00000 n 
0000036267 00000 n 
0000036770 00000 n 
0000019111 00000 n 
0000021918 00000 n 
0000036854 00000 n 
0000022048 00000 n 
0000026449 00000 n 
0000036938 00000 n 
0000026579 00000 n 
0000030975 00000 n 
0000037022 00000 n 
0000031105 00000 n 
0000031595 00000 n 
0000031855 00000 n 
0000032057 00000 n 
0000032257 00000 n 
0000032454 00000 n 
0000032651 00000 n 
0000032842 00000 n 
0000033042 00000 n 
0000037106 00000 n 
0000037134 00000 n 
0000037305 00000 n 
0000037428 00000 n 
trailer
<<
/Size 45
/Root 44 0 R
/Info 43 0 R
/ID [<2c54a54bffb770efc4f13a39d7c09d36><2c54a54bffb770efc4f13a39d7c09d36>]
>>
startxref
37498
%%EOF
