%PDF-1.3
%âãÏÓ
2 0 obj
<<
/Length 3377
>>
stream
BT
/TT2 1 Tf
12 0 0 12 162.894 669 Tm
0 g
/GS1 gs
0 Tc
0 Tw
[(Intr)18(oducción a Sistemas Operati)10(v)10(os: Empezando)]TJ
/TT4 1 Tf
10 0 0 10 273.135 633 Tm
(Clip 18)Tj
-3.2055 -1.2 TD
[(F)55(r)55( )210(ancisco J Ballester)45(os)]TJ
/TT2 1 Tf
-16.908 -4.8 TD
0.25 Tw
[(1. Compilado)-250(y)-250(enlazado)]TJ
/TT6 1 Tf
0 -1.56 TD
0.0973 Tw
[(Podemos v)15(er con más detalle qué sucede cuando compilamos, enlazamos y ejecutamos un programa que)]TJ
0 -1.2 TD
0 Tw
(hace llamadas al sistema.)Tj
0 -2.4 TD
[(V)129(olv)25(amos a considerar el programa para escribir un saludo, que reproducimos aquí por comodidad.)]TJ
/TT8 1 Tf
6.1 -1.8 TD
([hola.c])Tj
/TT6 1 Tf
4.8008 0 TD
(:)Tj
/TT10 1 Tf
8 0 0 8 133 491.4 Tm
(int)Tj
0 -1.5 TD
(main\(int argc, char *argv[]\))Tj
T*
({)Tj
2.4 -1.5 TD
(puts\("hola"\);)Tj
-2.4 -1.5 TD
(})Tj
/TT6 1 Tf
10 0 0 10 72 413.4 Tm
0.1676 Tw
(Cuando ejecutamos el comilador y generamos un )Tj
/TT11 1 Tf
21.1395 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.1676 Tw
(chero objeto para este )Tj
/TT11 1 Tf
9.666 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5561 0 TD
0.1676 Tw
(chero fuente, obtenemos el)Tj
/TT11 1 Tf
-31.9178 -1.2 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
(chero)Tj
/TT10 1 Tf
2.4707 0 TD
(hola.o)Tj
/TT6 1 Tf
3.6006 0 TD
[(,)-250(como vimos antes.)]TJ
/TT10 1 Tf
8 0 0 8 133 383.4 Tm
(unix$ cc hola.o)Tj
0 -1.5 TD
(unix$ ls -l)Tj
T*
(total 64)Tj
T*
0.6 Tw
[(-rw-r--r-- 1)-600(elf wheel)-2400(75 )600(May)-1200(4)-600(16:02 )600(hola.c)]TJ
T*
[(-rw-r--r-- 1)-600(elf wheel 1288)-600(May 4)-600(16:03 )600(hola.o)]TJ
/TT6 1 Tf
10 0 0 10 72 305.4 Tm
0 Tw
(El )Tj
/TT11 1 Tf
1.1641 0 TD
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.0254 Tw
(chero objeto contiene parte del binario para el programa ejecutable. La parte que corresponde al fuente)Tj
-1.7202 -1.2 TD
0.178 Tw
[(que hemos compilado.)-678(T)80(ambién incluye información respecto a qué símbolos \(nombres para código y)]TJ
T*
0.0335 Tw
(datos\) incluye el )Tj
/TT11 1 Tf
6.9594 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.0335 Tw
(chero objeto y qué símbolos necesita de otros )Tj
/TT11 1 Tf
18.7079 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.0335 Tw
(cheros para terminar de construir un eje-)Tj
-26.7796 -1.2 TD
0 Tw
(cutable.)Tj
0 -2.4 TD
0.0523 Tw
[(Dado que es muy tedioso intentar entender el binario, lo que podemos hacer es v)15(er el código ensamblador)]TJ
0 -1.2 TD
0.1105 Tw
(que ha generado el compilador y ha ensamblado para generar el )Tj
/TT11 1 Tf
26.9538 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.1105 Tw
(chero objeto. Esto se puede hacer uti-)Tj
-27.5099 -1.2 TD
0 Tw
(lizando el )Tj
/TT11 1 Tf
4.165 0 TD
(ß)Tj
/TT6 1 Tf
0.5562 0 TD
(ag)Tj
/TT10 1 Tf
1.1938 0 TD
(-S)Tj
/TT6 1 Tf
1.4502 0 TD
(del compilador de C.)Tj
/TT10 1 Tf
8 0 0 8 133 203.4 Tm
(unix$ cc -S hola.c)Tj
0 -1.5 TD
(unix$ ls -l)Tj
T*
(total 64)Tj
T*
0.6 Tw
[(-rw-r--r-- 1)-600(elf wheel)-2400(75 )600(May)-1200(4)-600(16:02 )600(hola.c)]TJ
T*
[(-rw-r--r-- 1)-600(elf wheel 1288)-600(May 4)-600(16:03 )600(hola.o)]TJ
T*
[(-rw-r--r-- 1)-600(elf wheel)-1800(840 )600(May)-1200(5)-600(09:57 )600(hola.s)]TJ
/TT6 1 Tf
10 0 0 10 72 125.4 Tm
0 Tw
(El )Tj
/TT11 1 Tf
1.3221 0 TD
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
(chero)Tj
/TT10 1 Tf
2.6541 0 TD
(hola.s)Tj
/TT6 1 Tf
4.034 0 TD
0.1834 Tw
[(contiene el código ensamblador: te)15(xto fuente para un programa que traduce dicho)]TJ
-8.5663 -1.2 TD
0 Tw
(código a binario, y que está muy próximo al binario.)Tj
ET
endstream
endobj
3 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/TT2 4 0 R
/TT4 5 0 R
/TT6 6 0 R
/TT8 7 0 R
/TT10 8 0 R
/TT11 9 0 R
>>
/ExtGState <<
/GS1 10 0 R
>>
>>
endobj
13 0 obj
<<
/Length 5993
>>
stream
BT
/TT6 1 Tf
10 0 0 10 282.17 744 Tm
0 g
/GS1 gs
0 Tc
0 Tw
(-2-)Tj
/TT8 1 Tf
-14.917 -3.6 TD
([hola.s])Tj
/TT6 1 Tf
4.8008 0 TD
(:)Tj
/TT10 1 Tf
8 0 0 8 171.4 696 Tm
1.2 Tw
(.file "hola.c")Tj
0 -1.5 TD
4.2 Tw
(.section .rodata)Tj
T*
0 Tw
(.string "hola\\n")Tj
T*
(.text)Tj
T*
0.6 Tw
(.globl main)Tj
-4.8 -1.5 TD
0 Tw
(main:)Tj
4.8 -1.5 TD
1.2 Tw
(pushq %rbp)Tj
T*
1.8 Tw
[(movq %rsp,)-600(%rbp)]TJ
T*
[(subq $32,)-600(%rsp)]TJ
T*
[(movl %edi,)-600(-20\(%rbp\))]TJ
T*
[(movq %rsi,)-600(-32\(%rbp\))]TJ
T*
[(leaq .LC0\(%rip\),)-600(%rdi)]TJ
T*
(call puts@PLT)Tj
T*
0 Tw
(leave)Tj
T*
(ret)Tj
/TT6 1 Tf
10 0 0 10 72 498 Tm
0.0824 Tw
[(Como puedes v)15(e)0(r)40(,)-332.4(simplemente se de)]TJ
/TT11 1 Tf
15.2423 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.0824 Tw
[(ne el v)25(alor para un string en la memoria \(con el saludo\) y hay una)]TJ
-15.7984 -1.2 TD
0.0668 Tw
[(serie de instrucciones para main.)-566.9(T)80(odo esto se v)15(erá más claro en el siguiente tema. Estas instrucciones se)]TJ
T*
0.0981 Tw
(pueden ya codi)Tj
/TT11 1 Tf
6.2494 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.0981 Tw
(car como números en binario para que las entienda el procesador \(eso es lo que tiene el)Tj
/TT11 1 Tf
-6.8056 -1.2 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.0472 Tw
[(chero objeto\). Las instrucciones se limitan a situar en la pila los ar)18(gumentos de)]TJ
/TT4 1 Tf
32.4394 0 TD
0 Tw
(puts)Tj
/TT6 1 Tf
1.9643 0 TD
0.0473 Tw
[(y)-297.3(a)-297.3(llamar a)]TJ
/TT4 1 Tf
5.1311 0 TD
0 Tw
(puts)Tj
/TT6 1 Tf
1.667 0 TD
0.2973 Tc
[(.E)297.3(l)]TJ
-41.7579 -1.2 TD
0 Tc
0.0115 Tw
[(v)25(alor para nuestra constante debe ir en una sección de v)25(alores para datos y el v)25(alor del código de)]TJ
/TT4 1 Tf
39.0454 0 TD
0 Tw
(main)Tj
/TT6 1 Tf
2.2615 0 TD
(debe)Tj
-41.3069 -1.2 TD
[(ir en una sección de código \(te)15(xto\).)]TJ
0 -2.4 TD
0.1081 Tw
[(P)15(ara que el enlazador sepa enlazar este )]TJ
/TT11 1 Tf
16.5381 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.1081 Tw
(chero objeto junto con otros y obtener un )Tj
/TT11 1 Tf
17.5831 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.1081 Tw
(chero ejecutable, el)Tj
/TT11 1 Tf
-35.2335 -1.2 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.0328 Tw
[(chero objeto incluye no sólo los v)25(alores de los datos inicializados y el código, sino también una tabla que)]TJ
-0.5562 -1.2 TD
0.0368 Tw
(contiene el nombre y posiciones en el )Tj
/TT11 1 Tf
15.5584 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.0368 Tw
[(chero para cada símbolo.)-536.8(El comando)]TJ
/TT4 1 Tf
15.7708 0 TD
0 Tw
(nm)Tj
/TT6 1 Tf
1.5091 0 TD
0.0369 Tw
[(lista esa tabla y nos per)20(-)]TJ
-33.3944 -1.2 TD
0 Tw
[(mite v)15(er lo que contiene un )]TJ
/TT11 1 Tf
11.1481 0 TD
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
(chero objeto.)Tj
/TT10 1 Tf
8 0 0 8 133 360 Tm
(unix$ nm hola.o)Tj
5.4 -1.5 TD
[(U)-600(_GLOBAL_OFFSET_TABLE_)]TJ
-5.4 -1.5 TD
(00000000 F hola.c)Tj
T*
(00000000 T main)Tj
5.4 -1.5 TD
[(U)-600(puts)]TJ
/TT6 1 Tf
10 0 0 10 72 294 Tm
0.1398 Tw
[(Como v)15(erás, e)15(xiste un símbolo de tipo ")]TJ
/TT10 1 Tf
16.9664 0 TD
0 Tw
(F)Tj
/TT6 1 Tf
0.6001 0 TD
0.3898 Tc
("\()Tj
/TT11 1 Tf
1.131 0 TD
0 Tc
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.1398 Tw
(chero fuente\) que nombra el )Tj
/TT11 1 Tf
12.2215 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.1398 Tw
(chero del que procede este)Tj
-32.0312 -1.2 TD
0.0481 Tw
(código. Compara con la direct)Tj
12.2715 0 TD
-0.025 Tc
0.0981 Tw
(iva ")Tj
/TT10 1 Tf
1.878 0 TD
0 Tc
0 Tw
(.file)Tj
/TT6 1 Tf
3.0005 0 TD
0.0481 Tw
[(")-298.1(que aparece en el listado en ensamblador)55(.)-298.2(Además, aparece un)]TJ
-17.15 -1.2 TD
0.0941 Tw
[(símbolo de código o te)15(xto \(")]TJ
/TT10 1 Tf
11.8348 0 TD
0 Tw
(T)Tj
/TT6 1 Tf
0.6001 0 TD
0.0941 Tw
("\) para la función)Tj
/TT4 1 Tf
7.6147 0 TD
0 Tw
(main)Tj
/TT6 1 Tf
2 0 TD
0.0941 Tw
[(.)-344.1(Por último, hay una anotación respecto a que este)]TJ
-22.0496 -1.2 TD
0.1308 Tw
(código necesita un símbolo llamado ")Tj
/TT10 1 Tf
15.6979 0 TD
0 Tw
(puts)Tj
/TT6 1 Tf
2.4004 0 TD
0.1308 Tw
[(")-380.8(para poder construir un ejecutable.)-630.8(Esto es así puesto que)]TJ
/TT4 1 Tf
-18.0983 -1.2 TD
0 Tw
(main)Tj
/TT6 1 Tf
2.25 0 TD
(llama a)Tj
/TT4 1 Tf
3.165 0 TD
(puts)Tj
/TT6 1 Tf
1.667 0 TD
(.)Tj
-7.082 -2.4 TD
0.027 Tw
(El enlazador tomará este )Tj
/TT11 1 Tf
10.214 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.027 Tw
(chero objeto y la librería de C, que contiene más )Tj
/TT11 1 Tf
19.9018 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5561 0 TD
0.027 Tw
(cheros objeto, y construirá un)Tj
-31.2281 -1.2 TD
0 Tw
(único )Tj
/TT11 1 Tf
2.4873 0 TD
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.0156 Tw
[(chero ejecutable. P)15(ara ello irá asignando direcciones a cada símbolo y copiando los símbolos que se)]TJ
-3.0434 -1.2 TD
0.0171 Tw
(necesiten al )Tj
/TT11 1 Tf
4.9761 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.0171 Tw
(chero ejecutable. Las direcciones asignadas serán aquellas que deberán utilizar en la memoria)Tj
-5.5322 -1.2 TD
0 Tw
(los bytes de cada símbolo.)Tj
0 -2.4 TD
0.0828 Tw
(Por ejemplo,)Tj
/TT4 1 Tf
5.526 0 TD
0 Tw
(main)Tj
/TT6 1 Tf
2.3328 0 TD
0.0828 Tw
(aparece con dirección ")Tj
/TT10 1 Tf
9.6229 0 TD
0 Tw
(00000000)Tj
/TT6 1 Tf
4.8008 0 TD
0.0828 Tw
[(")-332.8(e)0(n)-332.8(l)0(a)-332.8(salida de)]TJ
/TT4 1 Tf
7.0141 0 TD
0 Tw
(nm)Tj
/TT6 1 Tf
1.555 0 TD
(para)Tj
/TT10 1 Tf
2.0535 0 TD
(hola.o)Tj
/TT6 1 Tf
3.6006 0 TD
0.0829 Tw
[(.)-332.8(Esto es normal)]TJ
-36.5056 -1.2 TD
0.048 Tw
(puesto que se trata de un trozo de un ejecutable. La dirección que utilice en la memoria el código de)Tj
/TT4 1 Tf
41.1938 0 TD
0 Tw
(main)Tj
/TT6 1 Tf
-41.1938 -1.2 TD
-0.0001 Tc
0.0835 Tw
[(dependerá de dónde lo decida situar el enlazador)54.9(.)-583.5(Una v)14.9(ez enlazado, el binario se car)17.9(gará en la memoria)]TJ
T*
0 Tc
0.0354 Tw
[(utilizando el sistema operati)25(v)20(o)0(,)-285.4(d)0(e)-285.4(tal forma que las direcciones utilizadas en la memoria deberán coincidir)]TJ
T*
0 Tw
[(con las que ha asignado el enlazador)55(.)]TJ
0 -2.4 TD
(Podemos construir un ejecutable utilizando el compilador para que llame al enlazador del siguiente modo:)Tj
ET
endstream
endobj
14 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/TT4 5 0 R
/TT6 6 0 R
/TT8 7 0 R
/TT10 8 0 R
/TT11 9 0 R
>>
/ExtGState <<
/GS1 10 0 R
>>
>>
endobj
16 0 obj
<<
/Length 3737
>>
stream
BT
/TT6 1 Tf
10 0 0 10 282.17 744 Tm
0 g
/GS1 gs
0 Tc
0 Tw
(-3-)Tj
/TT10 1 Tf
8 0 0 8 133 708 Tm
(unix$ cc -static hola.o)Tj
/TT6 1 Tf
10 0 0 10 72 690 Tm
[(Y)-250(ahora tenemos un ejecutable llamado)]TJ
/TT10 1 Tf
16.0493 0 TD
(a.out)Tj
/TT6 1 Tf
3.0005 0 TD
(:)Tj
/TT10 1 Tf
8 0 0 8 133 672 Tm
(unix$ cc hola.o)Tj
0 -1.5 TD
(unix$ ls -l)Tj
T*
(total 64)Tj
T*
0.6 Tw
[(-rwxr-xr-x 1)-600(elf wheel 342427)-600(May 5)-600(10:16 )600(a.out*)]TJ
T*
[(-rw-r--r-- 1)-600(elf wheel)-3600(75 )600(May)-1200(4)-600(16:02 )600(hola.c)]TJ
T*
[(-rw-r--r-- 1)-600(elf wheel)-2400(1288 )600(May)-1200(4)-600(16:03 )600(hola.o)]TJ
/TT6 1 Tf
10 0 0 10 72 594 Tm
0 Tw
(Si listamos los símbolos de)Tj
/TT10 1 Tf
11.1401 0 TD
(a.out)Tj
/TT6 1 Tf
3.2505 0 TD
(utilizando)Tj
/TT4 1 Tf
4.249 0 TD
(nm)Tj
/TT6 1 Tf
1.4722 0 TD
[(podemos v)15(er una salida como la que sigue.)]TJ
/TT10 1 Tf
8 0 0 8 133 576 Tm
(unix$ nm -n a.out)Tj
0 -1.5 TD
(00400270 T __init)Tj
T*
(00400280 T __start)Tj
T*
(00400280 T _start)Tj
T*
(00400480 T atexit)Tj
T*
(004004f4 T main)Tj
T*
(00400520 T puts)Tj
T*
(00400710 T exit)Tj
T*
(......)Tj
T*
(0040c930 W write)Tj
T*
(......)Tj
/TT6 1 Tf
10 0 0 10 72 438 Tm
0.0644 Tw
[(Esta v)15(ez, hemos utilizado el )]TJ
/TT11 1 Tf
11.7479 0 TD
0 Tw
(ß)Tj
/TT6 1 Tf
0.5562 0 TD
(ag)Tj
/TT10 1 Tf
1.2582 0 TD
(-n)Tj
/TT6 1 Tf
1.5146 0 TD
(de)Tj
/TT4 1 Tf
1.2582 0 TD
(nm)Tj
/TT6 1 Tf
1.5366 0 TD
0.0645 Tw
(para pedirle que liste los símbolos ordenados por dirección de)Tj
-17.8717 -1.2 TD
0.0392 Tw
[(memoria. Como puedes v)15(e)0(r)40(,)]TJ
/TT4 1 Tf
11.6545 0 TD
0 Tw
(main)Tj
/TT6 1 Tf
2.2891 0 TD
0.0391 Tw
(estará en la dirección)Tj
/TT10 1 Tf
8.8737 0 TD
0 Tw
(004004f4)Tj
/TT6 1 Tf
5.0899 0 TD
-0.0001 Tc
0.0392 Tw
[(cuando esté car)17.9(gado en la memoria, y)]TJ
/TT4 1 Tf
-27.9072 -1.2 TD
0 Tc
0 Tw
(puts)Tj
/TT6 1 Tf
1.9592 0 TD
0.0423 Tw
(en la dirección)Tj
/TT10 1 Tf
6.2626 0 TD
0 Tw
(00400520)Tj
/TT6 1 Tf
4.8008 0 TD
0.0423 Tw
[(.)-292.3(Esta llamará a)]TJ
/TT4 1 Tf
6.5828 0 TD
0 Tw
(write)Tj
/TT6 1 Tf
2.0557 0 TD
0.0423 Tw
[(,)-292.3(que estará en la dirección)]TJ
/TT10 1 Tf
11.1649 0 TD
0 Tw
(0040c930)Tj
/TT6 1 Tf
4.8008 0 TD
0.0423 Tw
[(.)-292.3(Dado que es)]TJ
-37.6268 -1.2 TD
0.0514 Tw
(una llamada al sistema, este símbolo está declarado de tipo ")Tj
/TT10 1 Tf
24.7201 0 TD
0 Tw
(W)Tj
/TT6 1 Tf
0.6001 0 TD
0.0514 Tw
[(")-301.4(e)0(n)-301.4(e)0(l)-301.4(UNIX que utilizamos, pero habitual-)]TJ
-25.3202 -1.2 TD
0.1087 Tw
[(mente podrás v)15(erlo como ")]TJ
/TT10 1 Tf
11.2137 0 TD
0 Tw
(T)Tj
/TT6 1 Tf
0.6001 0 TD
0.3588 Tw
[(". \(La)-358.8(")]TJ
/TT10 1 Tf
3.4217 0 TD
0 Tw
(W)Tj
/TT6 1 Tf
0.6001 0 TD
[(")-358.8(signi)]TJ
/TT11 1 Tf
2.7118 0 TD
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
(ca)Tj
/TT4 1 Tf
1.2465 0 TD
0.1088 Tw
(símbolo débil)Tj
/TT6 1 Tf
5.8841 0 TD
[(y)-358.8(e)0(s)-358.8(similiar a te)15(xto pero permite que un)]TJ
/TT11 1 Tf
-26.2342 -1.2 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
-0.0001 Tc
0.1064 Tw
[(chero objeto contenga)-356.4(u)-0.1(n)-356.4(símbolo del mismo nombre para reemplazar al símbolo débil; Puedes ignorar)]TJ
-0.5562 -1.2 TD
0 Tc
0 Tw
(esto\).)Tj
0 -2.4 TD
0.0738 Tw
(En realidad, normalmente no utilizamos la opción ")Tj
/TT10 1 Tf
21.1411 0 TD
0 Tw
(-static)Tj
/TT6 1 Tf
4.2007 0 TD
0.0739 Tw
[(")-323.9(a)0(l)-323.9(compilar y enlazar)55(.)-323.9(V)111(amos a enlazar de)]TJ
-25.3418 -1.2 TD
0 Tw
[(nue)25(v)20(o)0(:)]TJ
/TT10 1 Tf
8 0 0 8 133 312 Tm
(unix$ cc hola.o)Tj
0 -1.5 TD
(unix$ ls -l a.out)Tj
T*
0.6 Tw
[(-rwxr-xr-x 1)-600(elf wheel 8570)-600(May 5)-600(10:26 )600(a.out*)]TJ
/TT6 1 Tf
10 0 0 10 72 270 Tm
0 Tw
[(Esta v)15(ez, el ejecutable contiene unos 8Kbytes y no unos 342Kbytes.)-500(V)111(eamos que nos dice)]TJ
/TT4 1 Tf
36.3647 0 TD
(nm)Tj
/TT6 1 Tf
1.2222 0 TD
(:)Tj
ET
endstream
endobj
17 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/TT4 5 0 R
/TT6 6 0 R
/TT10 8 0 R
/TT11 9 0 R
>>
/ExtGState <<
/GS1 10 0 R
>>
>>
endobj
19 0 obj
<<
/Length 4123
>>
stream
BT
/TT6 1 Tf
10 0 0 10 282.17 744 Tm
0 g
/GS1 gs
0 Tc
0 Tw
(-4-)Tj
/TT10 1 Tf
8 0 0 8 133 708 Tm
(unix$ nm -n a.out)Tj
5.4 -1.5 TD
[(U)-600(puts)]TJ
T*
[(U)-600(exit)]TJ
-5.4 -1.5 TD
(00000a10 T __init)Tj
T*
(00000a80 T __start)Tj
T*
(00000a80 T _start)Tj
T*
(00000c80 T atexit)Tj
T*
(00000cf4 T main)Tj
T*
(00000d20 T __fini)Tj
T*
(00201000 D __guard_local)Tj
T*
(00201008 D __data_start)Tj
T*
(00201008 D __progname)Tj
T*
(00201010 D __dso_handle)Tj
T*
(00201148 a _DYNAMIC)Tj
T*
(00301290 a _GLOBAL_OFFSET_TABLE_)Tj
T*
(00401360 B _dl_skipnum)Tj
T*
(00401370 B _dl_searchnum)Tj
T*
(...)Tj
/TT6 1 Tf
10 0 0 10 72 486 Tm
0.0256 Tw
[(La v)15(ez anterior)40(,)-275.6(l)0(a)-275.6(salida de)]TJ
/TT4 1 Tf
11.3986 0 TD
0 Tw
(nm)Tj
/TT6 1 Tf
1.4978 0 TD
0.0256 Tw
(tenía muchas mas líneas que ahora \(aunque hemos borrado la mayoría para)Tj
-12.8964 -1.2 TD
0.0916 Tw
(omitir detalles que no importan por el momento\). Ahora, la salida de)Tj
/TT4 1 Tf
28.8141 0 TD
0 Tw
(nm)Tj
/TT6 1 Tf
1.5639 0 TD
0.0917 Tw
(tiene sólo cuatro o cinco líneas)Tj
-30.378 -1.2 TD
0 Tw
(más que las que mostramos.)Tj
0 -2.4 TD
0.0849 Tw
[(Lo que sucede es que el programa está enlazado pero no del todo.)-584.9(Puedes v)15(er que)]TJ
/TT4 1 Tf
34.3881 0 TD
0 Tw
(puts)Tj
/TT6 1 Tf
2.0019 0 TD
0.0849 Tw
(sigue ")Tj
/TT10 1 Tf
2.8539 0 TD
0 Tw
(U)Tj
/TT6 1 Tf
0.6001 0 TD
0.3349 Tc
("\()Tj
/TT4 1 Tf
1.0761 0 TD
0 Tc
(unde-)Tj
/TT12 1 Tf
-40.9201 -1.2 TD
(Þ)Tj
/TT4 1 Tf
0.5 0 TD
(ned)Tj
/TT6 1 Tf
1.4438 0 TD
-0.0001 Tc
0.0725 Tw
[(\). Cuando este programa esté car)17.9(gado en la memoria y lle)14.9(gue al punto en que necesita llamar a)]TJ
/TT4 1 Tf
39.3331 0 TD
0 Tc
0 Tw
(puts)Tj
/TT6 1 Tf
1.667 0 TD
(,)Tj
-42.9439 -1.2 TD
0.1816 Tw
(llamará a código que tiene enlazado y que deberá completar el enlazado. Este código forma parte del)Tj
T*
0 Tw
(denominado)Tj
/TT4 1 Tf
5.1934 0 TD
(enlazador dinámico)Tj
/TT6 1 Tf
7.9717 0 TD
(.)Tj
-13.165 -2.4 TD
0.0148 Tw
[(El proceso es igual que cuando enlazamos de forma estática \(en tiempo de compilación si quieres v)15(erlo así\))]TJ
0 -1.2 TD
0.0183 Tw
(el ejecutable. La diferencia es que ahora hemos enlazado los )Tj
/TT11 1 Tf
24.5878 0 TD
0 Tw
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
0.0183 Tw
(cheros objeto junto con código que completa)Tj
-25.1439 -1.2 TD
0 Tw
(el enlazado ya en tiempo de ejecución.)Tj
0 -2.4 TD
0.1782 Tw
(Además, a diferencia de antes, cuando el programa se enlaza ya en tiempo de ejecución, el enlazador)Tj
0 -1.2 TD
0.0715 Tw
[(dinámico utiliza el sistema operati)25(v)20(o)20( )-20(para poder compartir librerías ya car)18(gadas en la memoria \(enlazadas)]TJ
T*
0.1806 Tw
[(dinámicamente con otros programas que están ejecutando\). Si un programa utiliza por primera v)15(ez un)]TJ
T*
-0.0002 Tc
0.0113 Tw
[(símbolo de una librería dinámica que no se ha car)17.8(gado aún, el sistema operati)24.8(v)19.8(o)19.8( )-19.7(la)-261(car)17.8(ga en)-261(la)-261(memoria y el)]TJ
T*
0 Tc
0 Tw
(enlazador dinámico puede completar el enlazado.)Tj
0 -2.4 TD
0.0426 Tw
(El comando)Tj
/TT4 1 Tf
5.1394 0 TD
0 Tw
(ldd)Tj
/TT6 1 Tf
1.5705 0 TD
0.0427 Tw
(muestra las librerías que necesitará el ejecutable para completar el enlazado, ya en tiempo)Tj
-6.7099 -1.2 TD
0 Tw
(de ejecución. Así pues:)Tj
/TT10 1 Tf
8 0 0 8 133 228 Tm
(unix$ cc -static hola.o)Tj
0 -1.5 TD
(unix$ ldd a.out)Tj
T*
(a.out:)Tj
T*
(not a dynamic executable)Tj
T*
(unix$ cc hola.o)Tj
T*
(unix$ ldd a.out)Tj
T*
(a.out:)Tj
4.8 -1.5 TD
[(Start )-6600(End)-8400(Type Open Ref GrpRef Name)]TJ
T*
[(00001af940c00000 00001af941002000 exe)-1200(1)-2400(0)-1800(0)-3600(a.out)]TJ
T*
[(00001afbe5731000 00001afbe5c1d000 rlib 0)-2400(1)-1800(0)-1800( )-1200(/usr/lib/libc.so.78.1)]TJ
T*
[(00001afbfd900000 00001afbfd900000 rtld 0)-2400(1)-1800(0)-1800( )-1200(/usr/libexec/ld.so)]TJ
/TT6 1 Tf
10 0 0 10 72 78 Tm
0.0884 Tw
[(Por ahora nos da igual que quiere decir cada columna, pero puedes v)15(er que el ejecutable utilizará código)]TJ
0 -1.2 TD
0.2582 Tw
(procedente de)Tj
/TT10 1 Tf
6.3465 0 TD
0 Tw
(/usr/libexec/ld.so)Tj
/TT6 1 Tf
11.31 0 TD
0.2583 Tw
[(\(¡P)15(arte del enlazador dinámico!\) y código procedente de la)]TJ
ET
endstream
endobj
20 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/TT4 5 0 R
/TT6 6 0 R
/TT10 8 0 R
/TT11 9 0 R
/TT12 21 0 R
>>
/ExtGState <<
/GS1 10 0 R
>>
>>
endobj
23 0 obj
<<
/Length 960
>>
stream
BT
/TT6 1 Tf
10 0 0 10 282.17 744 Tm
0 g
/GS1 gs
0 Tc
0 Tw
(-5-)Tj
-21.017 -3.6 TD
(librería de C, procedente del )Tj
/TT11 1 Tf
11.606 0 TD
(Þ)Tj
/TT6 1 Tf
0.5562 0 TD
(chero)Tj
/TT10 1 Tf
2.4707 0 TD
(/usr/lib/libc.so.78.1)Tj
/TT6 1 Tf
12.602 0 TD
(.)Tj
-27.2349 -2.4 TD
0.0439 Tw
[(Por el momento basta como introducción a lo que hace un sistema operati)25(v)20(o)20( )-20(y)20( )-20(a)20( )-20(qué relación tiene con tus)]TJ
0 -1.2 TD
0.0607 Tw
[(programas. Ha lle)15(gado el momento de empezar a v)15(er las abstracciones que implementa el k)10(ernel y las lla-)]TJ
T*
0.112 Tw
(madas al sistema y comandos de shell relacionados con cada una de ellas. Empezaremos en el siguiente)Tj
T*
0.0418 Tw
(tema viendo lo que es un)Tj
/TT4 1 Tf
10.4705 0 TD
0 Tw
[(pr)45(oceso)]TJ
/TT6 1 Tf
3.121 0 TD
0.0419 Tw
[(,)-291.8(o)-291.8(programa en ejecución, lo que en realidad continúa lo que terminados)]TJ
-13.5915 -1.2 TD
0 Tw
(de describir en este epígrafe.)Tj
ET
endstream
endobj
24 0 obj
<<
/ProcSet [/PDF /Text ]
/Font <<
/TT4 5 0 R
/TT6 6 0 R
/TT10 8 0 R
/TT11 9 0 R
>>
/ExtGState <<
/GS1 10 0 R
>>
>>
endobj
10 0 obj
<<
/Type /ExtGState
/SA false
/SM 0.02
/OP false
/op false
/OPM 1
/BG2 /Default
/UCR2 /Default
/HT /Default
/TR2 /Default
>>
endobj
25 0 obj
<<
/Type /FontDescriptor
/Ascent 750
/CapHeight 676
/Descent -250
/Flags 262178
/FontBBox [-168 -218 1000 935]
/FontName /Times-Bold
/ItalicAngle 0
/StemV 133
/XHeight 461
/StemH 139
>>
endobj
26 0 obj
<<
/Type /FontDescriptor
/Ascent 750
/CapHeight 653
/Descent -250
/Flags 98
/FontBBox [-169 -217 1010 883]
/FontName /Times-Italic
/ItalicAngle -15
/StemV 76
/XHeight 441
/StemH 76
>>
endobj
27 0 obj
<<
/Type /FontDescriptor
/Ascent 750
/CapHeight 662
/Descent -250
/Flags 34
/FontBBox [-168 -218 1000 898]
/FontName /Times-Roman
/ItalicAngle 0
/StemV 84
/XHeight 450
/StemH 84
>>
endobj
28 0 obj
<<
/Type /FontDescriptor
/Ascent 753
/CapHeight 562
/Descent -246
/Flags 262179
/FontBBox [-113 -250 749 801]
/FontName /Courier-Bold
/ItalicAngle 0
/StemV 133
/XHeight 439
/StemH 84
>>
endobj
29 0 obj
<<
/Type /FontDescriptor
/Ascent 753
/CapHeight 562
/Descent -246
/Flags 35
/FontBBox [-28 -250 628 805]
/FontName /Courier
/ItalicAngle 0
/StemV 51
/XHeight 426
/StemH 51
>>
endobj
30 0 obj
<<
/Type /FontDescriptor
/Ascent 750
/CapHeight 662
/Descent -250
/Flags 34
/FontBBox [-168 -218 1000 898]
/FontName /Times-Roman
/ItalicAngle 0
/StemV 84
/XHeight 450
/StemH 84
>>
endobj
31 0 obj
<<
/Type /FontDescriptor
/Ascent 750
/CapHeight 653
/Descent -250
/Flags 98
/FontBBox [-169 -217 1010 883]
/FontName /Times-Italic
/ItalicAngle -15
/StemV 76
/XHeight 441
/StemH 76
>>
endobj
4 0 obj
<<
/Type /Font
/Subtype /TrueType
/FirstChar 32
/LastChar 243
/Widths [250 0 0 0 0 0 0 0 0 0 0 0 0 0 250 0 
0 500 0 0 0 0 0 0 0 0 333 0 0 0 0 0 
0 0 0 722 0 667 0 0 0 389 0 0 0 0 0 778 
0 0 0 556 0 0 0 0 0 0 0 0 0 0 0 0 
0 500 0 444 556 444 0 0 0 278 0 0 278 833 556 500 
556 0 444 389 333 556 500 0 0 500 444 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 500 ]
/Encoding /WinAnsiEncoding
/BaseFont /Times-Bold
/FontDescriptor 25 0 R
>>
endobj
5 0 obj
<<
/Type /Font
/Subtype /TrueType
/FirstChar 32
/LastChar 237
/Widths [250 0 0 0 0 0 0 0 0 0 0 0 0 333 0 0 
0 500 0 0 0 0 0 0 500 0 0 0 0 0 0 0 
0 0 611 667 0 0 611 0 0 0 444 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 500 500 444 500 444 0 0 0 278 0 0 278 722 500 500 
500 0 389 389 278 500 0 667 0 0 389 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 500 0 0 0 0 0 0 0 444 0 0 0 278 ]
/Encoding /WinAnsiEncoding
/BaseFont /Times-Italic
/FontDescriptor 26 0 R
>>
endobj
6 0 obj
<<
/Type /Font
/Subtype /TrueType
/FirstChar 32
/LastChar 250
/Widths [250 333 408 0 0 0 0 0 333 333 0 0 250 333 250 0 
0 0 500 500 500 500 0 0 500 0 278 278 0 0 0 0 
0 722 0 667 722 611 0 0 722 333 0 722 611 0 722 0 
556 0 0 556 611 722 722 0 722 722 0 0 0 0 0 0 
0 444 500 444 500 444 333 500 500 278 278 500 278 778 500 500 
500 500 333 389 278 500 500 0 500 500 444 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 333 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 444 0 0 0 0 0 0 0 444 0 0 0 278 0 0 
0 0 0 500 0 0 0 0 0 0 500 ]
/Encoding /WinAnsiEncoding
/BaseFont /Times-Roman
/FontDescriptor 27 0 R
>>
endobj
7 0 obj
<<
/Type /Font
/Subtype /TrueType
/FirstChar 46
/LastChar 115
/Widths [600 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 600 0 600 
0 0 0 600 0 600 0 0 0 0 600 0 0 0 600 0 
0 600 0 0 0 600 ]
/Encoding /WinAnsiEncoding
/BaseFont /Courier-Bold
/FontDescriptor 28 0 R
>>
endobj
8 0 obj
<<
/Type /Font
/Subtype /TrueType
/FirstChar 32
/LastChar 125
/Widths [600 0 600 0 600 600 0 0 600 600 600 0 600 600 600 600 
600 600 600 600 600 600 600 600 600 600 600 600 0 0 0 0 
600 600 600 600 600 600 600 600 0 600 0 0 600 600 600 600 
600 0 600 600 600 600 0 600 0 600 0 600 600 600 0 600 
0 600 600 600 600 600 600 600 600 600 0 600 600 600 600 600 
600 600 600 600 600 600 600 600 600 600 0 600 0 600 ]
/Encoding /WinAnsiEncoding
/BaseFont /Courier
/FontDescriptor 29 0 R
>>
endobj
9 0 obj
<<
/Type /Font
/Subtype /TrueType
/FirstChar 222
/LastChar 223
/Widths [556 556 ]
/Encoding /MacRomanEncoding
/BaseFont /Times-Roman
/FontDescriptor 30 0 R
>>
endobj
21 0 obj
<<
/Type /Font
/Subtype /TrueType
/FirstChar 222
/LastChar 222
/Widths [500 ]
/Encoding /MacRomanEncoding
/BaseFont /Times-Italic
/FontDescriptor 31 0 R
>>
endobj
1 0 obj
<<
/Type /Page
/Parent 11 0 R
/Resources 3 0 R
/Contents 2 0 R
>>
endobj
12 0 obj
<<
/Type /Page
/Parent 11 0 R
/Resources 14 0 R
/Contents 13 0 R
>>
endobj
15 0 obj
<<
/Type /Page
/Parent 11 0 R
/Resources 17 0 R
/Contents 16 0 R
>>
endobj
18 0 obj
<<
/Type /Page
/Parent 11 0 R
/Resources 20 0 R
/Contents 19 0 R
>>
endobj
22 0 obj
<<
/Type /Page
/Parent 11 0 R
/Resources 24 0 R
/Contents 23 0 R
>>
endobj
32 0 obj
<<
/S /D
>>
endobj
33 0 obj
<<
/Nums [0 32 0 R ]
>>
endobj
11 0 obj
<<
/Type /Pages
/Kids [1 0 R 12 0 R 15 0 R 18 0 R 22 0 R]
/Count 5
/MediaBox [0 0 612 792]
>>
endobj
34 0 obj
<<
/CreationDate (D:20160905151709+02'00')
/ModDate (D:20160905151709+02'00')
/Producer (Apple pstopdf)
>>
endobj
35 0 obj
<<
/Type /Catalog
/Pages 11 0 R
/PageLabels 33 0 R
>>
endobj
xref
0 36
0000000000 65535 f 
0000023914 00000 n 
0000000016 00000 n 
0000003445 00000 n 
0000020704 00000 n 
0000021358 00000 n 
0000022003 00000 n 
0000022742 00000 n 
0000023069 00000 n 
0000023568 00000 n 
0000019174 00000 n 
0000024399 00000 n 
0000023995 00000 n 
0000003598 00000 n 
0000009644 00000 n 
0000024079 00000 n 
0000009787 00000 n 
0000013577 00000 n 
0000024163 00000 n 
0000013709 00000 n 
0000017885 00000 n 
0000023742 00000 n 
0000024247 00000 n 
0000018030 00000 n 
0000019042 00000 n 
0000019315 00000 n 
0000019517 00000 n 
0000019717 00000 n 
0000019914 00000 n 
0000020116 00000 n 
0000020307 00000 n 
0000020504 00000 n 
0000024331 00000 n 
0000024359 00000 n 
0000024509 00000 n 
0000024632 00000 n 
trailer
<<
/Size 36
/Root 35 0 R
/Info 34 0 R
/ID [<adf307165bc147f2b367c7e241ac0260><adf307165bc147f2b367c7e241ac0260>]
>>
startxref
24702
%%EOF
